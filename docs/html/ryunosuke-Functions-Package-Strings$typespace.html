<!DOCTYPE html>
<html>
<head>	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/foundation.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js-bootstrap-css/1.2.1/typeaheadjs.min.css">
	<link rel="stylesheet" type="text/css" data-href="common.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/3.1.1/bootstrap3-typeahead.min.js"></script>
	<script data-src="common.js"></script>

	<script>
        (function () {
            var cachekey;
            try {
                cachekey = window.parent.CACHEKEY;
            }
            catch (e) {
                cachekey = 'nocache';
            }
            $('link[data-href]').attr('href', function () {
                return this.dataset.href + '?' + cachekey;
            });
            $('script[data-src]').attr('src', function () {
                return this.dataset.src + '?' + cachekey;
            });

            $(document).on('click', 'a[href]:not([target="_blank"]):not(.cachekey)', function () {
                this.classList.add('cachekey');
                this.href = this.href.replace('.html', '.html?' + cachekey);
            });
        })();
	</script>
    </head>
<body class="typespace">
<a id="anchor" href="./" style="display: none"></a>
<h1 class="ellipsis fixed">
	<span class="pull-left">
	Structure
	<small class="ellipsis-text">(ryunosuke\Functions\Package\Strings)</small>
	</span>
	<span class="pull-right">
		<small class="frame-switch">
		<a target="_parent">frame</a> | <a target="_parent">noframe</a>
		</small>
	</span>
</h1>
<div class="main-wrapper">
	<div class="attribute">
		<span class="label label-danger"></span>
		<span class="label label-warning"></span>
		<span class="label label-info"></span>
		<span class="label label-info"></span>
		<span class="label label-deprecated"></span>
        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5-L5335" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                    	</div>

	<h2>class <span class="category-name">ryunosuke\Functions\Package\Strings</span></h2>

	<div class="description"><p>文字列関連のユーティリティ</p>
</div>

	<h3>Construction</h3>
        	<table class="table">
		<caption>Implements</caption>
		<tbody>
        			<tr>
				<td class="type"><a href="ryunosuke-Functions-Package-Interfaces-Strings$typespace.html#ryunosuke\Functions\Package\Interfaces\Strings" class="fqsen "><small>ryunosuke\Functions\Package\Interfaces\</small><wbr>Strings</a></td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
            
	<h3>Hierarchy</h3>
	<div class="hierarchy"></div>

	<h3>Constants</h3>
    		<ul>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L10-L11" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_MAX_DEPTH" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_MAX_DEPTH						<var> = -1</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で $depth 引数を表す定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L12-L13" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_INDENT" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_INDENT						<var> = -71</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数でインデント数・文字を指定する定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L14-L15" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_CLOSURE" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_CLOSURE						<var> = -72</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数でクロージャをサポートするかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L16-L17" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_NEST_LEVEL" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_NEST_LEVEL						<var> = -73</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で初期ネストレベルを指定する定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L18-L19" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_INLINE_LEVEL" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_INLINE_LEVEL						<var> = -74</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で一定以上の階層をインライン化するかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L20-L21" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_INLINE_SCALARLIST" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_INLINE_SCALARLIST						<var> = -75</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数でスカラーのみのリストをインライン化するかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L22-L23" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_ES5" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_ES5						<var> = -100</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で json5 を取り扱うかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L24-L25" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_INT_AS_STRING" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_INT_AS_STRING						<var> = -101</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で整数を常に文字列で返すかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L26-L27" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_FLOAT_AS_STRING" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_FLOAT_AS_STRING						<var> = -102</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で小数を常に文字列で返すかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L28-L29" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_TRAILING_COMMA" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_TRAILING_COMMA						<var> = -103</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で強制ケツカンマを振るかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L30-L31" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_COMMENT_PREFIX" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_COMMENT_PREFIX						<var> = -104</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数でコメントを判定するプレフィックス定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L32-L33" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_TEMPLATE_LITERAL" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_TEMPLATE_LITERAL						<var> = -105</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数でテンプレートリテラルを有効にするかの定数</p>
</div>

                                                					</div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L34-L35" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_BARE_AS_STRING" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_BARE_AS_STRING						<var> = -106</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で bare string を文字列として扱うか</p>
</div>

                                                					</div>
				</li>
            		</ul>
    
	<h3>Properties</h3>
    
	<h3>Methods</h3>
    		<ul>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L37-L51" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strcat()" tabindex="-1" class="structure-title ">
                        strcat                        	<small>(...$variadic) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列結合の関数版</p>
<p>Example:</p>
<pre><code class="language-php">that(strcat('a', 'b', 'c'))-&gt;isSame('abc');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">mixed</td>
				<td class="rest">...$variadic</td>
				<td class="desc"><p>結合する文字列（可変引数）</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>結合した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L53-L80" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::concat()" tabindex="-1" class="structure-title ">
                        concat                        	<small>(...$variadic) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>strcat の空文字回避版</p>
<p>基本は strcat と同じ。ただし、<strong>引数の内1つでも空文字を含むなら空文字を返す</strong>。</p>
<p>「プレフィックスやサフィックスを付けたいんだけど、空文字の場合はそのままで居て欲しい」という状況はまれによくあるはず。<br />
コードで言えば <code>strlen($string) ? 'prefix-' . $string : '';</code> のようなもの。<br />
可変引数なので 端的に言えば mysql の CONCAT みたいな動作になる（あっちは NULL だが）。</p>
<pre><code class="language-php">that(concat('prefix-', 'middle', '-suffix'))-&gt;isSame('prefix-middle-suffix');
that(concat('prefix-', '', '-suffix'))-&gt;isSame('');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">mixed</td>
				<td class="rest">...$variadic</td>
				<td class="desc"><p>結合する文字列（可変引数）</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>結合した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L82-L117" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::split_noempty()" tabindex="-1" class="structure-title ">
                        split_noempty                        	<small>($delimiter, $string, $trimchars = true) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>空文字を除外する文字列分割</p>
<ul>
<li>空文字を任意の区切り文字で分割しても常に空配列</li>
<li>キーは連番で返す（歯抜けがないただの配列）</li>
</ul>
<p>$triming を指定した場合、結果配列にも影響する。<br />
つまり「除外は trim したいが結果配列にはしたくない」はできない。</p>
<p>Example:</p>
<pre><code class="language-php">that(split_noempty(',', 'a, b, c'))-&gt;isSame(['a', 'b', 'c']);
that(split_noempty(',', 'a, , , b, c'))-&gt;isSame(['a', 'b', 'c']);
that(split_noempty(',', 'a, , , b, c', false))-&gt;isSame(['a', ' ', ' ', ' b', ' c']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>区切り文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>bool</td>
				<td class="rest">$trimchars = true</td>
				<td class="desc"><p>指定した文字を trim する。true を指定すると trim する</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>指定文字で分割して空文字を除いた配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L119-L155" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::multiexplode()" tabindex="-1" class="structure-title ">
                        multiexplode                        	<small>($delimiter, $string, $limit = PHP_INT_MAX) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>explode の配列対応と $limit の挙動を変えたもの</p>
<p>$delimiter には配列が使える。いわゆる「複数文字列での分割」の動作になる。</p>
<p>$limit に負数を与えると「その絶対値-1までを結合したものと残り」を返す。<br />
端的に言えば「正数を与えると後詰めでその個数で返す」「負数を与えると前詰めでその（絶対値）個数で返す」という動作になる。</p>
<p>Example:</p>
<pre><code class="language-php">// 配列を与えると複数文字列での分割
that(multiexplode([',', ' ', '|'], 'a,b c|d'))-&gt;isSame(['a', 'b', 'c', 'd']);
// 負数を与えると前詰め
that(multiexplode(',', 'a,b,c,d', -2))-&gt;isSame(['a,b,c', 'd']);
// もちろん上記2つは共存できる
that(multiexplode([',', ' ', '|'], 'a,b c|d', -2))-&gt;isSame(['a,b c', 'd']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>分割文字列。配列可</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$limit = PHP_INT_MAX</td>
				<td class="desc"><p>分割数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>分割された配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L157-L217" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::quoteexplode()" tabindex="-1" class="structure-title ">
                        quoteexplode                        	<small>($delimiter, $string, $limit = null, $enclosures = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>エスケープやクオートに対応した explode</p>
<p>$enclosures は配列で開始・終了文字が別々に指定できるが、実装上の都合で今のところ1文字ずつのみ。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな例
that(quoteexplode(',', 'a,b,c\\,d,"e,f"'))-&gt;isSame([
    'a', // 普通に分割される
    'b', // 普通に分割される
    'c\\,d', // \\ でエスケープしているので区切り文字とみなされない
    '"e,f"', // "" でクオートされているので区切り文字とみなされない
]);

// $enclosures で囲い文字の開始・終了文字を明示できる
that(quoteexplode(',', 'a,b,{e,f}', null, ['{' =&gt; '}']))-&gt;isSame([
    'a', // 普通に分割される
    'b', // 普通に分割される
    '{e,f}', // { } で囲まれているので区切り文字とみなされない
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>分割文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">?int</td>
				<td class="rest">$limit = null</td>
				<td class="desc"><p>分割数。負数未対応</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$enclosures = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。 ["start" =&gt; "end"] で開始・終了が指定できる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>分割された配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L219-L261" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strrstr()" tabindex="-1" class="structure-title ">
                        strrstr                        	<small>($haystack, $needle, $after_needle = true) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列が最後に現れる位置以前を返す</p>
<p>strstr の逆のイメージで文字列を後ろから探索する動作となる。<br />
strstr の動作は「文字列を前から探索して指定文字列があったらそれ以後を返す」なので、<br />
その逆の動作の「文字列を後ろから探索して指定文字列があったらそれ以前を返す」という挙動を示す。</p>
<p>strstr の「needle が文字列でない場合は、 それを整数に変換し、その番号に対応する文字として扱います」は直感的じゃないので踏襲しない。<br />
（全体的にこの動作をやめよう、という RFC もあったはず）。</p>
<p>第3引数の意味合いもデフォルト値も逆になるので、単純に呼べばよくある「指定文字列より後ろを（指定文字列を含めないで）返す」という動作になる。</p>
<p>Example:</p>
<pre><code class="language-php">// パス中の最後のディレクトリを取得
that(strrstr("path/to/1:path/to/2:path/to/3", ":"))-&gt;isSame('path/to/3');
// $after_needle を false にすると逆の動作になる
that(strrstr("path/to/1:path/to/2:path/to/3", ":", false))-&gt;isSame('path/to/1:path/to/2:');
// （参考）strrchr と違い、文字列が使えるしその文字そのものは含まれない
that(strrstr("A\r\nB\r\nC", "\r\n"))-&gt;isSame('C');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>検索文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$after_needle = true</td>
				<td class="desc"><p>$needle より後ろを返すか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"></td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L263-L301" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strpos_array()" tabindex="-1" class="structure-title ">
                        strpos_array                        	<small>($haystack, $needles, $offset = 0) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>複数の文字列で strpos する</p>
<p>$needles のそれぞれの位置を配列で返す。<br />
ただし、見つからなかった文字は結果に含まれない。</p>
<p>Example:</p>
<pre><code class="language-php">// 見つかった位置を返す
that(strpos_array('hello world', ['hello', 'world']))-&gt;isSame([
    0 =&gt; 0,
    1 =&gt; 6,
]);
// 見つからない文字は含まれない
that(strpos_array('hello world', ['notfound', 'world']))-&gt;isSame([
    1 =&gt; 6,
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$needles</td>
				<td class="desc"><p>位置を取得したい文字列配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>$needles それぞれの位置配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L303-L373" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strpos_escaped()" tabindex="-1" class="structure-title ">
                        strpos_escaped                        	<small>($haystack, $needle, $offset = 0, $escape = &quot;\\&quot;, &amp;$found = null) : false<span class="type-separator"></span><wbr>int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>エスケープを考慮して strpos する</p>
<p>文字列中のエスケープ中でない生の文字を検索する。<br />
例えば <code>"abc\nxyz"</code> という文字列で <code>"n"</code> という文字は存在しないとみなす。<br />
<code>"\n"</code> は改行のエスケープシーケンスであり、 <code>"n"</code> という文字ではない（エスケープシーケンスとして "n" を流用しているだけ）。<br />
逆に <code>"\\n"</code> はバックスラッシュと <code>"n"</code> という文字であり <code>"n"</code> が存在する。<br />
簡単に言えば「直前にバックスラッシュがある場合はヒットしない strpos」である。<br />
バックスラッシュは $escape 引数で指定可能。</p>
<p>$needle 自体にエスケープ文字を含む場合、反対の意味で検索する。<br />
つまり、「直前にバックスラッシュがある場合のみヒットする strpos」になる。</p>
<p>$offset 引数を指定するとその位置から探索を開始するが、戻り読みはしないのでエスケープ文字の真っ只中を指定する場合は注意。<br />
例えば <code>"\n"</code> は改行文字だけであるが、offset に 1 に指定して "n" を探すとマッチする。</p>
<p>Example:</p>
<pre><code class="language-php"># 分かりにくいので \ ではなく % をエスケープ文字とする
$defargs = [0, '%'];

// これは false である（"%d" という文字の列であるため "d" という文字は存在しない）
that(strpos_escaped('%d', 'd', ...$defargs))-&gt;isSame(false);
// これは 2 である（"%" "d" という文字の列であるため（d の前の % は更にその前の % に呑まれておりメタ文字ではない））
that(strpos_escaped('%%d', 'd', ...$defargs))-&gt;isSame(2);

// これは 0 である（% をつけて検索するとそのエスケープシーケンス的なものそのものを探すため）
that(strpos_escaped('%d', '%d', ...$defargs))-&gt;isSame(0);
// これは false である（"%" "d" という文字の列であるため "%d" という文字は存在しない）
that(strpos_escaped('%%d', '%d', ...$defargs))-&gt;isSame(false);
// これは 2 である（"%" "%d" という文字の列であるため）
that(strpos_escaped('%%%d', '%d', ...$defargs))-&gt;isSame(2);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>探す文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">?string</td>
				<td class="rest">&amp;$found = null</td>
				<td class="desc"><p>見つかった文字が格納される</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">false<span class="type-separator"></span><wbr>int</td>
			<td class="desc"><p>見つかった位置</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L375-L444" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strpos_quoted()" tabindex="-1" class="structure-title ">
                        strpos_quoted                        	<small>($haystack, $needle, $offset = 0, $enclosure = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;, &amp;$found = null) : false<span class="type-separator"></span><wbr>int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>クオートを考慮して strpos する</p>
<p>Example:</p>
<pre><code class="language-php">// クオート中は除外される
that(strpos_quoted('hello "this" is world', 'is'))-&gt;isSame(13);
// 開始位置やクオート文字は指定できる（5文字目以降の \* に囲まれていない hoge の位置を返す）
that(strpos_quoted('1:hoge, 2:*hoge*, 3:hoge', 'hoge', 5, '*'))-&gt;isSame(20);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>iterable</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>位置を取得したい文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$enclosure = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。この文字中にいる $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字。この文字が前にある $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">?string</td>
				<td class="rest">&amp;$found = null</td>
				<td class="desc"><p>$needle の内、見つかった文字列が格納される</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">false<span class="type-separator"></span><wbr>int</td>
			<td class="desc"><p>$needle の位置</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L446-L487" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strtr_escaped()" tabindex="-1" class="structure-title ">
                        strtr_escaped                        	<small>($string, $replace_pairs, $escape = &quot;\\&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>エスケープを考慮して strtr する</p>
<p>「エスケープ」についての詳細は strpos_escaped を参照。</p>
<p>$replace_pairs は [from =&gt; to] な配列を指定する。<br />
to がクロージャの場合はキーとオフセットでコールバックされる。</p>
<p>strtr と同様、最も長いキーから置換を行い、置換後の文字列は対象にならない。</p>
<p>Example:</p>
<pre><code class="language-php"># 分かりにくいので \ ではなく % をエスケープ文字とする
that((strtr_escaped)('XYZ ab %% %s', [
    'ab'  =&gt; 'AB',  // 2. 1 で置換された文字は対象にならない
    'A'   =&gt; '%a',  // 使われない
    'Z'   =&gt; '%z',  // 使われない
    '%%'  =&gt; 'p',   // 普通に置換される
    's'   =&gt; 'S',   // エスケープが対象なので置換されない（%s は文字 "s" ではない（\n が文字 "n" ではないのと同じ））
    'XYZ' =&gt; 'abc', // 1. 後ろにあるがまず置換される
], '%'))-&gt;isSame('abc AB p %s');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$replace_pairs</td>
				<td class="desc"><p>置換するペア</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L489-L523" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_bytes()" tabindex="-1" class="structure-title ">
                        str_bytes                        	<small>($string, $base = 10) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列のバイト配列を得る</p>
<p>$base 引数で基数を変更できる。</p>
<p>Example:</p>
<pre><code class="language-php">// 10進配列で返す
that(str_bytes('abc'))-&gt;isSame([97, 98, 99]);
// 16進配列で返す
that(str_bytes('abc', 16))-&gt;isSame(["61", "62", "63"]);
// マルチバイトで余計なことはしない（php としての文字列のバイト配列をそのまま返す）
that(str_bytes('あいう', 16))-&gt;isSame(["e3", "81", "82", "e3", "81", "84", "e3", "81", "86"]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$base = 10</td>
				<td class="desc"><p>基数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>文字のバイト配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L525-L560" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_chunk()" tabindex="-1" class="structure-title ">
                        str_chunk                        	<small>($string, ...$chunks) : string[]</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を可変引数の数で分割する</p>
<p>str_split の $length を個別に指定できるイメージ。<br />
長さ以上を指定したりしても最後の要素は必ずついてくる（指定数で分割した後のあまり文字が最後の要素になる）。<br />
これは最後が空文字でも同様で、 list での代入を想定しているため。</p>
<p>Example:</p>
<pre><code class="language-php">// 1, 2, 3 文字に分割（ぴったりなので変わったことはない）
that(str_chunk('abcdef', 1, 2, 3))-&gt;isSame(['a', 'bc', 'def', '']);
// 2, 3 文字に分割（余った f も最後の要素として含まれてくる）
that(str_chunk('abcdef', 2, 3))-&gt;isSame(['ab', 'cde', 'f']);
// 1, 10 文字に分割
that(str_chunk('abcdef', 1, 10))-&gt;isSame(['a', 'bcdef', '']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">...$chunks</td>
				<td class="desc"><p>分割の各文字数（可変引数）</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string[]</td>
			<td class="desc"><p>分割された文字列配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L562-L598" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_anyof()" tabindex="-1" class="structure-title ">
                        str_anyof                        	<small>($needle, $haystack, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列が候補の中にあるか調べる</p>
<p>候補配列の中に対象文字列があるならそのキーを返す。ないなら null を返す。</p>
<p>あくまで文字列としての比較に徹する（in_array/array_search の第3引数は厳密すぎて使いにくいことがある）。<br />
ので array_search の文字列特化版とも言える。<br />
動作的には <code>array_flip($haystack)[$needle] ?? null</code> と同じ（大文字小文字オプションはあるけど）。<br />
ただ array_flip は巨大配列に弱いし、大文字小文字などの融通が効かないので foreach での素朴な実装になっている。</p>
<p>Example:</p>
<pre><code class="language-php">that(str_anyof('b', ['a', 'b', 'c']))-&gt;isSame(1);       // 見つかったキーを返す
that(str_anyof('x', ['a', 'b', 'c']))-&gt;isSame(null);    // 見つからないなら null を返す
that(str_anyof('C', ['a', 'b', 'c'], true))-&gt;isSame(2); // 大文字文字を区別しない
that(str_anyof('1', [1, 2, 3]))-&gt;isSame(0);             // 文字列の比較に徹する
that(str_anyof(2, ['1', '2', '3']))-&gt;isSame(1);         // 同上
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>候補配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>候補の中にあるならそのキー。無いなら null</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L600-L637" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_equals()" tabindex="-1" class="structure-title ">
                        str_equals                        	<small>($str1, $str2, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列比較の関数版</p>
<p>文字列以外が与えられた場合は常に false を返す。ただし __toString を実装したオブジェクトは別。</p>
<p>Example:</p>
<pre><code class="language-php">that(str_equals('abc', 'abc'))-&gt;isTrue();
that(str_equals('abc', 'ABC', true))-&gt;isTrue();
that(str_equals('\0abc', '\0abc'))-&gt;isTrue();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$str1</td>
				<td class="desc"><p>文字列1</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$str2</td>
				<td class="desc"><p>文字列2</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>同じ文字列なら true</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L639-L679" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_exists()" tabindex="-1" class="structure-title ">
                        str_exists                        	<small>($haystack, $needle, $case_insensitivity = false, $and_flag = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列を含むか返す</p>
<p>Example:</p>
<pre><code class="language-php">that(str_exists('abc', 'b'))-&gt;isTrue();
that(str_exists('abc', 'B', true))-&gt;isTrue();
that(str_exists('abc', ['b', 'x'], false, false))-&gt;isTrue();
that(str_exists('abc', ['b', 'x'], false, true))-&gt;isFalse();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$and_flag = false</td>
				<td class="desc"><p>すべて含む場合に true を返すか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>$needle を含むなら true</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L681-L708" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_chop()" tabindex="-1" class="structure-title ">
                        str_chop                        	<small>($string, $prefix = &quot;&quot;, $suffix = &quot;&quot;, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>先頭・末尾の指定文字列を削ぎ落とす</p>
<p>Example:</p>
<pre><code class="language-php">// 文字列からパス文字列と拡張子を削ぎ落とす
$PATH = '/path/to/something';
that(str_chop("$PATH/hoge.php", "$PATH/", '.php'))-&gt;isSame('hoge');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$prefix = &quot;&quot;</td>
				<td class="desc"><p>削ぎ落とす先頭文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$suffix = &quot;&quot;</td>
				<td class="desc"><p>削ぎ落とす末尾文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>削ぎ落とした文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L710-L728" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_lchop()" tabindex="-1" class="structure-title ">
                        str_lchop                        	<small>($string, $prefix, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>先頭の指定文字列を削ぎ落とす</p>
<p>Example:</p>
<pre><code class="language-php">// 文字列からパス文字列を削ぎ落とす
$PATH = '/path/to/something';
that(str_lchop("$PATH/hoge.php", "$PATH/"))-&gt;isSame('hoge.php');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$prefix</td>
				<td class="desc"><p>削ぎ落とす先頭文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>削ぎ落とした文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L730-L748" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_rchop()" tabindex="-1" class="structure-title ">
                        str_rchop                        	<small>($string, $suffix, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>末尾の指定文字列を削ぎ落とす</p>
<p>Example:</p>
<pre><code class="language-php">// 文字列から .php を削ぎ落とす
$PATH = '/path/to/something';
that(str_rchop("$PATH/hoge.php", ".php"))-&gt;isSame("$PATH/hoge");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$suffix</td>
				<td class="desc"><p>削ぎ落とす末尾文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>削ぎ落とした文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L750-L797" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_putcsv()" tabindex="-1" class="structure-title ">
                        str_putcsv                        	<small>($array, $delimiter = &quot;,&quot;, $enclosure = &quot;\&quot;&quot;, $escape = &quot;\\&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>fputcsv の文字列版（str_getcsv の put 版）</p>
<p>エラーは例外に変換される。</p>
<p>普通の配列を与えるとシンプルに "a,b,c" のような1行を返す。<br />
多次元配列（2次元のみを想定）や Traversable を与えるとループして "a,b,c\nd,e,f" のような複数行を返す。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな1行を返す
that(str_putcsv(['a', 'b', 'c']))-&gt;isSame("a,b,c");
that(str_putcsv(['a', 'b', 'c'], "\t"))-&gt;isSame("a\tb\tc");
that(str_putcsv(['a', ' b ', 'c'], " ", "'"))-&gt;isSame("a ' b ' c");

// 複数行を返す
that(str_putcsv([['a', 'b', 'c'], ['d', 'e', 'f']]))-&gt;isSame("a,b,c\nd,e,f");
that(str_putcsv((function() {
    yield ['a', 'b', 'c'];
    yield ['d', 'e', 'f'];
})()))-&gt;isSame("a,b,c\nd,e,f");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$array</td>
				<td class="desc"><p>値の配列 or 値の配列の配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;,&quot;</td>
				<td class="desc"><p>フィールド区切り文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$enclosure = &quot;\&quot;&quot;</td>
				<td class="desc"><p>フィールドを囲む文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>CSV 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L799-L873" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_subreplace()" tabindex="-1" class="structure-title ">
                        str_subreplace                        	<small>($subject, $search, $replaces, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列を置換する</p>
<p>$subject 内の $search を $replaces に置換する。<br />
str_replace とは「N 番目のみ置換できる」点で異なる。<br />
つまり、$search='hoge', $replace=[2 =&gt; 'fuga'] とすると「2 番目の 'hoge' が 'fuga' に置換される」という動作になる（0 ベース）。</p>
<p>$replace に 非配列を与えた場合は配列化される。<br />
つまり <code>$replaces = 'hoge'</code> は <code>$replaces = [0 =&gt; 'hoge']</code> と同じ（最初のマッチを置換する）。</p>
<p>$replace に空配列を与えると何もしない。<br />
負数キーは後ろから数える動作となる。<br />
また、置換後の文字列は置換対象にはならない。</p>
<p>N 番目の検索文字列が見つからない場合は例外を投げる。<br />
ただし、文字自体が見つからない場合は投げない。</p>
<p>Example:</p>
<pre><code class="language-php">// 1番目（0ベースなので2番目）の x を X に置換
that(str_subreplace('xxx', 'x', [1 =&gt; 'X']))-&gt;isSame('xXx');
// 0番目（最前列）の x を Xa に、-1番目（最後尾）の x を Xz に置換
that(str_subreplace('!xxx!', 'x', [0 =&gt; 'Xa', -1 =&gt; 'Xz']))-&gt;isSame('!XaxXz!');
// 置換結果は置換対象にならない
that(str_subreplace('xxx', 'x', [0 =&gt; 'xxx', 1 =&gt; 'X']))-&gt;isSame('xxxXx');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$search</td>
				<td class="desc"><p>検索文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$replaces</td>
				<td class="desc"><p>置換文字列配列（単一指定は配列化される）</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L875-L975" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_submap()" tabindex="-1" class="structure-title ">
                        str_submap                        	<small>($subject, $replaces, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列を置換する</p>
<p>$subject を $replaces に従って置換する。<br />
具体的には「$replaces を 複数指定できる str_subreplace」に近い。</p>
<p>strtr とは「N 番目のみ置換できる」点で異なる。<br />
つまり、$replaces=['hoge' =&gt; [2 =&gt; 'fuga']] とすると「2 番目の 'hoge' が 'fuga' に置換される」という動作になる（0 ベース）。</p>
<p>$replaces の要素に非配列を与えた場合は配列化される。<br />
つまり <code>$replaces = ['hoge' =&gt; 'fuga']</code> は <code>$replaces = ['hoge' =&gt; ['fuga']]</code> と同じ（最初のマッチを置換する）。</p>
<p>$replace に空配列を与えると何もしない。<br />
負数キーは後ろから数える動作となる。<br />
また、置換後の文字列は置換対象にはならない。</p>
<p>N 番目の検索文字列が見つからない場合は例外を投げる。<br />
ただし、文字自体が見つからない場合は投げない。</p>
<p>Example:</p>
<pre><code class="language-php">// "hello, world" の l と o を置換
that(str_submap('hello, world', [
    // l は0番目と2番目のみを置換（1番目は何も行われない）
    'l' =&gt; [
        0 =&gt; 'L1',
        2 =&gt; 'L3',
    ],
    // o は後ろから数えて1番目を置換
    'o' =&gt; [
        -1 =&gt; 'O',
    ],
]))-&gt;isSame('heL1lo, wOrL3d');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$replaces</td>
				<td class="desc"><p>読み換え配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L977-L1052" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_embed()" tabindex="-1" class="structure-title ">
                        str_embed                        	<small>($string, $replacemap, $enclosure = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>エスケープ付きで文字列を置換する</p>
<p>$replacemap で from -&gt; to 文字列を指定する。<br />
to は文字列と配列を受け付ける。<br />
文字列の場合は普通に想起される動作で単純な置換となる。<br />
配列の場合は順次置換していく。要素が足りなくなったら例外を投げる。</p>
<p>strtr と同様、最も長いキーから置換を行い、置換後の文字列は対象にならない。</p>
<p>$enclosure で「特定文字に囲まれている」場合を無視することができる。<br />
$escape で「特定文字が前にある」場合を無視することができる。</p>
<p>Example:</p>
<pre><code class="language-php">// 最も単純な置換
that(str_embed('a, b, c', ['a' =&gt; 'A', 'b' =&gt; 'B', 'c' =&gt; 'C']))-&gt;isSame('A, B, C');
// 最も長いキーから置換される
that(str_embed('abc', ['a' =&gt; 'X', 'ab' =&gt; 'AB']))-&gt;isSame('ABc');
// 配列を渡すと「N番目の置換」が実現できる（文字列の場合は再利用される）
that(str_embed('a, a, b, b', [
    'a' =&gt; 'A',          // 全ての a が A になる
    'b' =&gt; ['B1', 'B2'], // 1番目の b が B1, 2番目の b が B2 になる
]))-&gt;isSame('A, A, B1, B2');
// 最も重要な性質として "' で囲まれていると対象にならない
that(str_embed('a, "a", b, "b", b', [
    'a' =&gt; 'A',
    'b' =&gt; ['B1', 'B2'],
]))-&gt;isSame('A, "a", B1, "b", B2');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$replacemap</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$enclosure = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。この文字中にいる $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字。この文字が前にある $from, $to 文字は走査外になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1054-L1117" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_between()" tabindex="-1" class="structure-title ">
                        str_between                        	<small>($string, $from, $to, &amp;$position = 0, $enclosure = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : string<span class="type-separator"></span><wbr>bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字で囲まれた文字列を取得する</p>
<p>$from, $to で指定した文字間を取得する（$from, $to 自体は結果に含まれない）。<br />
ネストしている場合、一番外側の文字間を返す。</p>
<p>$enclosure で「特定文字に囲まれている」場合を無視することができる。<br />
$escape で「特定文字が前にある」場合を無視することができる。</p>
<p>$position を与えた場合、その場所から走査を開始する。<br />
さらに結果があった場合、 $position には「次の走査開始位置」が代入される。<br />
これを使用すると連続で「次の文字, 次の文字, ...」と言った動作が可能になる。</p>
<p>Example:</p>
<pre><code class="language-php">// $position を利用して "first", "second", "third" を得る（"で囲まれた "blank" は返ってこない）。
that(str_between('{first} and {second} and "{blank}" and {third}', '{', '}', $n))-&gt;isSame('first');
that(str_between('{first} and {second} and "{blank}" and {third}', '{', '}', $n))-&gt;isSame('second');
that(str_between('{first} and {second} and "{blank}" and {third}', '{', '}', $n))-&gt;isSame('third');
// ネストしている場合は最も外側を返す
that(str_between('{nest1{nest2{nest3}}}', '{', '}'))-&gt;isSame('nest1{nest2{nest3}}');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$from</td>
				<td class="desc"><p>開始文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$to</td>
				<td class="desc"><p>終了文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">&amp;$position = 0</td>
				<td class="desc"><p>開始位置。渡した場合次の開始位置が設定される</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$enclosure = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。この文字中にいる $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字。この文字が前にある $from, $to 文字は走査外になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>bool</td>
			<td class="desc"><p>$from, $to で囲まれた文字。見つからなかった場合は false</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1119-L1164" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_ellipsis()" tabindex="-1" class="structure-title ">
                        str_ellipsis                        	<small>($string, $width, $trimmarker = &quot;...&quot;, $pos = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を指定数に丸める</p>
<p>mb_strimwidth と似ているが、省略文字の差し込み位置を $pos で指定できる。<br />
$pos は負数が指定できる。負数の場合後ろから数えられる。<br />
省略した場合は真ん中となる。</p>
<p>Example:</p>
<pre><code class="language-php">// 8文字に丸める（$pos 省略なので真ん中が省略される）
that(str_ellipsis('1234567890', 8, '...'))-&gt;isSame('12...890');
// 8文字に丸める（$pos=1 なので1文字目から省略される）
that(str_ellipsis('1234567890', 8, '...', 1))-&gt;isSame('1...7890');
// 8文字に丸める（$pos=-1 なので後ろから1文字目から省略される）
that(str_ellipsis('1234567890', 8, '...', -1))-&gt;isSame('1234...0');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$width</td>
				<td class="desc"><p>丸める幅</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$trimmarker = &quot;...&quot;</td>
				<td class="desc"><p>省略文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$pos = null</td>
				<td class="desc"><p>省略記号の差し込み位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>丸められた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1166-L1667" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_diff()" tabindex="-1" class="structure-title ">
                        str_diff                        	<small>($xstring, $ystring, $options = []) : string<span class="type-separator"></span><wbr>array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>テキストの diff を得る</p>
<p><code>$options['iignore-case'] = true</code> で大文字小文字を無視する。<br />
<code>$options['ignore-space-change'] = true</code> 空白文字の数を無視する。<br />
<code>$options['ignore-all-space'] = true</code> ですべての空白文字を無視する<br />
<code>$options['stringify']</code> で差分データを文字列化するクロージャを指定する。</p>
<ul>
<li>normal: 標準形式（diff のオプションなしに相当する）</li>
<li>context: コンテキスト形式（context=3 のような形式で diff の -C 3 に相当する）</li>
<li>unified: ユニファイド形式（unified=3 のような形式で diff の -U 3 に相当する）<ul>
<li>unified のみを指定するとヘッダを含まない +- のみの差分を出す</li>
</ul>
</li>
<li>html: ins, del の html タグ形式<ul>
<li>html=perline とすると行レベルでの差分も出す</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// 前文字列
$old = 'same
delete
same
same
change
';
// 後文字列
$new = 'same
same
append
same
this is changed line
';
// シンプルな差分テキストを返す
that(str_diff($old, $new))-&gt;isSame(' same
-delete
 same
+append
 same
-change
+this is changed line
');
// html で差分を返す
that(str_diff($old, $new, ['stringify' =&gt; 'html']))-&gt;isSame('same
&lt;del&gt;delete&lt;/del&gt;
same
&lt;ins&gt;append&lt;/ins&gt;
same
&lt;del&gt;change&lt;/del&gt;
&lt;ins&gt;this is changed line&lt;/ins&gt;
');
// 行レベルの html で差分を返す
that(str_diff($old, $new, ['stringify' =&gt; 'html=perline']))-&gt;isSame('same
&lt;del&gt;delete&lt;/del&gt;
same
&lt;ins&gt;append&lt;/ins&gt;
same
&lt;ins&gt;this is &lt;/ins&gt;chang&lt;ins&gt;ed lin&lt;/ins&gt;e
');
// raw な配列で差分を返す
that(str_diff($old, $new, ['stringify' =&gt; null]))-&gt;isSame([
    // 等価行（'=' という記号と前後それぞれの文字列を返す（キーは行番号））
    ['=', [0 =&gt; 'same'], [0 =&gt; 'same']],
    // 削除行（'-' という記号と前の文字列を返す（キーは行番号）、後は int で行番号のみ）
    ['-', [1 =&gt; 'delete'], 0],
    // 等価行
    ['=', [2 =&gt; 'same'], [1 =&gt; 'same']],
    // 追加行（'+' という記号と後の文字列を返す（キーは行番号）、前は int で行番号のみ）
    ['+', 2, [2 =&gt; 'append']],
    // 等価行
    ['=', [3 =&gt; 'same'], [3 =&gt; 'same']],
    // 変更行（'*' という記号と前後それぞれの文字列を返す（キーは行番号））
    ['*', [4 =&gt; 'change'], [4 =&gt; 'this is changed line']],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$xstring</td>
				<td class="desc"><p>元文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$ystring</td>
				<td class="desc"><p>比較文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>array</td>
			<td class="desc"><p>差分テキスト。 stringify が null の場合は raw な差分配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1669-L1700" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::starts_with()" tabindex="-1" class="structure-title ">
                        starts_with                        	<small>($string, $with, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列で始まるか調べる</p>
<p>$with に配列を渡すといずれかで始まるときに true を返す。</p>
<p>Example:</p>
<pre><code class="language-php">that(starts_with('abcdef', 'abc'))-&gt;isTrue();
that(starts_with('abcdef', 'ABC', true))-&gt;isTrue();
that(starts_with('abcdef', 'xyz'))-&gt;isFalse();
that(starts_with('abcdef', ['a', 'b', 'c']))-&gt;isTrue();
that(starts_with('abcdef', ['x', 'y', 'z']))-&gt;isFalse();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>探される文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>string[]</td>
				<td class="rest">$with</td>
				<td class="desc"><p>探す文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>指定文字列で始まるなら true を返す</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1702-L1733" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ends_with()" tabindex="-1" class="structure-title ">
                        ends_with                        	<small>($string, $with, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列で終わるか調べる</p>
<p>$with に配列を渡すといずれかで終わるときに true を返す。</p>
<p>Example:</p>
<pre><code class="language-php">that(ends_with('abcdef', 'def'))-&gt;isTrue();
that(ends_with('abcdef', 'DEF', true))-&gt;isTrue();
that(ends_with('abcdef', 'xyz'))-&gt;isFalse();
that(ends_with('abcdef', ['d', 'e', 'f']))-&gt;isTrue();
that(ends_with('abcdef', ['x', 'y', 'z']))-&gt;isFalse();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>探される文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>string[]</td>
				<td class="rest">$with</td>
				<td class="desc"><p>探す文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>対象文字列で終わるなら true</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1735-L1750" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::camel_case()" tabindex="-1" class="structure-title ">
                        camel_case                        	<small>($string, $delimiter = &quot;_&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>camelCase に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(camel_case('this_is_a_pen'))-&gt;isSame('thisIsAPen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;_&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1752-L1767" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::pascal_case()" tabindex="-1" class="structure-title ">
                        pascal_case                        	<small>($string, $delimiter = &quot;_&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>PascalCase に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(pascal_case('this_is_a_pen'))-&gt;isSame('ThisIsAPen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;_&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1769-L1784" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::snake_case()" tabindex="-1" class="structure-title ">
                        snake_case                        	<small>($string, $delimiter = &quot;_&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>snake_case に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(snake_case('ThisIsAPen'))-&gt;isSame('this_is_a_pen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;_&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1786-L1801" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::chain_case()" tabindex="-1" class="structure-title ">
                        chain_case                        	<small>($string, $delimiter = &quot;-&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>chain-case に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(chain_case('ThisIsAPen'))-&gt;isSame('this-is-a-pen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;-&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1803-L1832" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::namespace_split()" tabindex="-1" class="structure-title ">
                        namespace_split                        	<small>($string) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を名前空間とローカル名に区切ってタプルで返す</p>
<p>class_namespace/class_shorten や function_shorten とほぼ同じだが下記の違いがある。</p>
<ul>
<li>あくまで文字列として処理する<ul>
<li>例えば class_namespace は get_class されるが、この関数は（いうなれば） strval される</li>
</ul>
</li>
<li>\ を trim しないし、特別扱いもしない<ul>
<li><code>ns\\hoge</code> と <code>\\ns\\hoge</code> で返り値が微妙に異なる</li>
<li><code>ns\\</code> のような場合は名前空間だけを返す</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">that(namespace_split('ns\\hoge'))-&gt;isSame(['ns', 'hoge']);
that(namespace_split('hoge'))-&gt;isSame(['', 'hoge']);
that(namespace_split('ns\\'))-&gt;isSame(['ns', '']);
that(namespace_split('\\hoge'))-&gt;isSame(['', 'hoge']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>[namespace, localname]</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1834-L1955" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::html_strip()" tabindex="-1" class="structure-title ">
                        html_strip                        	<small>($html, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>html の空白類を除去して minify する</p>
<p>文字列的ではなく DOM 的に行うのでおかしな部分 html を食わせると意図しない結果になる可能性がある。<br />
その副作用として属性のクオートやタグ内空白は全て正規化される。</p>
<p>html コメントも削除される。<br />
また、空白が意味を持つタグ（textarea, pre）は対象にならない。<br />
さらに、php を含むような html （テンプレート）の php タグは一切の対象外となる。</p>
<p>これらの挙動の一部はオプションで指定が可能。</p>
<p>Example:</p>
<pre><code class="language-php">// e.g. id が " でクオートされている
// e.g. class のクオートが " になっている
// e.g. タグ内空白（id, class の間隔等）がスペース1つになっている
// e.g. php タグは一切変更されていない
// e.g. textarea は保持されている
that(html_strip("&lt;span  id=id  class='c1  c2  c3'&gt;&lt;?= '&lt;hoge&gt;  &lt;/hoge&gt;' ?&gt; a  b  c &lt;/span&gt; &lt;pre&gt; a  b  c &lt;/pre&gt;"))-&gt;isSame('&lt;span id="id" class="c1  c2  c3"&gt;&lt;?= \'&lt;hoge&gt;  &lt;/hoge&gt;\' ?&gt; a b c &lt;/span&gt;&lt;pre&gt; a  b  c &lt;/pre&gt;');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$html</td>
				<td class="desc"><p>html 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>空白除去された html 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1957-L2165" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::html_attr()" tabindex="-1" class="structure-title ">
                        html_attr                        	<small>($array, $options = []) : string<span class="type-separator"></span><wbr>array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>配列を html の属性文字列に変換する</p>
<p>data-* や style, 論理属性など、全てよしなに変換して文字列で返す。<br />
返り値の文字列はエスケープが施されており、基本的にはそのまま html に埋め込んで良い。<br />
（オプション次第では危険だったり乱れたりすることはある）。</p>
<p>separator オプションを指定すると属性の区切り文字を指定できる。<br />
大抵の場合は半角スペースであり、少し特殊な場合に改行文字を指定するくらいだろう。<br />
ただし、この separator に null を与えると文字列ではなく生の配列で返す。<br />
この配列は <code>属性名 =&gt; 属性値</code> な生の配列であり、エスケープも施されていない。<br />
$options 自体に文字列を与えた場合は separator 指定とみなされる。</p>
<p>属性の変換ルールは下記。</p>
<ul>
<li>属性名が数値の場合は属性としては生成されない</li>
<li>属性名は camelCase -&gt; cahin-case の変換が行われる</li>
<li>値が null の場合は無条件で無視される<ul>
<li>下記 false との違いは「配列返しの場合に渡ってくるか？」である（null は無条件フィルタなので配列返しでも渡ってこない）</li>
</ul>
</li>
<li>値が true の場合は論理属性とみなし値なしで生成される</li>
<li>値が false の場合は論理属性とみなし、 属性としては生成されない</li>
<li>値が配列の場合は ","（カンマ）で結合される<ul>
<li>これは観測範囲内でカンマ区切りが多いため（srcset, accept など）。属性によってはカンマが適切ではない場合がある</li>
<li>更にその配列が文字キーを持つ場合、キーが "=" で結合される<ul>
<li>これは観測範囲内で = 区切りが多いため（viewport など）。属性によっては = が適切ではない場合がある</li>
</ul>
</li>
</ul>
</li>
<li>値が配列で属性名が class, style, data の場合は下記の特殊な挙動を示す<ul>
<li>class: 半角スペースで結合される<ul>
<li>キーは無視される</li>
</ul>
</li>
<li>style: キーが css 名、値が css 値として ";" で結合される<ul>
<li>キーは cahin-case に変換される</li>
<li>キーが数値の場合は値がそのまま追加される</li>
<li>値が配列の場合は半角スペースで結合される</li>
</ul>
</li>
<li>data-: キーが data 名、値が data 値として data 属性になる<ul>
<li>キーは cahin-case に変換される</li>
<li>値が真偽値以外のスカラーの場合はそのまま、非スカラー||真偽値の場合は json で埋め込まれる<ul>
<li>これは jQuery において json をよしなに扱うことができるため</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>※ 上記における「配列」とは iterable を指すが、toString を実装した iterable なオブジェクトは toString が優先され、文字列とみなされる</p>
<p>複雑に見えるが「よしなに」やってくれると考えて良い。<br />
配列や真偽値で分岐が大量にあるが、大前提として「string だった場合は余計なことはしない」がある。<br />
ので迷ったり予期しない結果の場合は呼び出し側で文字列化して呼べば良い。</p>
<p>Example:</p>
<pre><code class="language-php">that(html_attr([
    // camelCase は camel-case になる
    'camelCase' =&gt; '&lt;value&gt;',
    // true は論理属性 true とみなし、値なし属性になる
    'checked'   =&gt; true,
    // false は論理属性 false とみなし、属性として現れない
    'disabled'  =&gt; false,
    // null は無条件で無視され、属性として現れない
    'readonly'  =&gt; null,
    // 配列はカンマで結合される
    'srcset'    =&gt; [
        'hoge.jpg 1x',
        'fuga.jpg 2x',
    ],
    // 連想配列は = で結合される
    'content'   =&gt; [
        'width' =&gt; 'device-width',
        'scale' =&gt; '1.0',
    ],
    // class はスペースで結合される
    'class'     =&gt; ['hoge', 'fuga'],
    // style 原則的に proerty:value; とみなす
    'style'     =&gt; [
        'color'           =&gt; 'red',
        'backgroundColor' =&gt; 'white',      // camel-case になる
        'margin'          =&gt; [1, 2, 3, 4], // スペースで結合される
        'opacity:0.5',                     // 直値はそのまま追加される
    ],
    // data- はその分属性が生える
    'data-'     =&gt; [
        'camelCase' =&gt; 123,
        'hoge'      =&gt; false,        // 真偽値は文字列として埋め込まれる
        'fuga'      =&gt; "fuga",       // 文字列はそのまま文字列
        'piyo'      =&gt; ['a' =&gt; 'A'], // 非スカラー以外は json になる
    ],
], ['separator' =&gt; "\n"]))-&gt;is('camel-case="&amp;lt;value&amp;gt;"
checked
srcset="hoge.jpg 1x,fuga.jpg 2x"
content="width=device-width,scale=1.0"
class="hoge fuga"
style="color:red;background-color:white;margin:1 2 3 4;opacity:0.5"
data-camel-case="123"
data-hoge="false"
data-fuga="fuga"
data-piyo="{&amp;quot;a&amp;quot;:&amp;quot;A&amp;quot;}"');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$array</td>
				<td class="desc"><p>属性配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>array</td>
			<td class="desc"><p>属性文字列 or 属性配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2167-L2264" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::htmltag()" tabindex="-1" class="structure-title ">
                        htmltag                        	<small>($selector) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>css セレクタから html 文字列を生成する</p>
<p><code>tag#id.class[attr=value]</code> のような css セレクタから <code>&lt;tag id="id" class="class" attr="value"&gt;&lt;/tag&gt;</code> のような html 文字列を返す。<br />
配列を与えるとキーがセレクタ、値がコンテント文字列になる。<br />
さらに値が配列だと再帰して生成する。</p>
<p>値や属性は適切に htmlspecialchars される。</p>
<p>Example:</p>
<pre><code class="language-php">// 単純文字列はただのタグを生成する
that(
    htmltag('a#hoge.c1.c2[name=hoge\[\]][href="http://hoge"][hidden]'))
    -&gt;isSame('&lt;a id="hoge" class="c1 c2" name="hoge[]" href="http://hoge" hidden&gt;&lt;/a&gt;'
);
// ペア配列を与えるとコンテント文字列になる
that(
    htmltag(['a.c1#hoge.c2[name=hoge\[\]][href="http://hoge"][hidden]' =&gt; "this is text's content"]))
    -&gt;isSame('&lt;a id="hoge" class="c1 c2" name="hoge[]" href="http://hoge" hidden&gt;this is text&amp;#039;s content&lt;/a&gt;'
);
// ネストした配列を与えると再帰される
that(
    htmltag([
        'div#wrapper' =&gt; [
            'b.class1' =&gt; [
                '&lt;plain&gt;',
            ],
            'b.class2' =&gt; [
                '&lt;plain1&gt;',
                's' =&gt; '&lt;strike&gt;',
                '&lt;plain2&gt;',
            ],
        ],
    ]))
    -&gt;isSame('&lt;div id="wrapper"&gt;&lt;b class="class1"&gt;&amp;lt;plain&amp;gt;&lt;/b&gt;&lt;b class="class2"&gt;&amp;lt;plain1&amp;gt;&lt;s&gt;&amp;lt;strike&amp;gt;&lt;/s&gt;&amp;lt;plain2&amp;gt;&lt;/b&gt;&lt;/div&gt;'
);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$selector</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>html 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2266-L2411" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::css_selector()" tabindex="-1" class="structure-title ">
                        css_selector                        	<small>($selector) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>CSS セレクタ文字をパースして配列で返す</p>
<p>包含などではない属性セレクタを与えると属性として認識する。<br />
独自仕様として・・・</p>
<ul>
<li>[!attr]: 否定属性として false を返す</li>
<li>{styles}: style 属性とみなす</li>
</ul>
<p>がある。</p>
<p>Example:</p>
<pre><code class="language-php">that(css_selector('#hoge.c1.c2[name=hoge\[\]][href="http://hoge"][hidden][!readonly]{width:123px;height:456px}'))-&gt;is([
    'id'       =&gt; 'hoge',
    'class'    =&gt; ['c1', 'c2'],
    'name'     =&gt; 'hoge[]',
    'href'     =&gt; 'http://hoge',
    'hidden'   =&gt; true,
    'readonly' =&gt; false,
    'style'    =&gt; [
        'width'  =&gt; '123px',
        'height' =&gt; '456px',
    ],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$selector</td>
				<td class="desc"><p>CSS セレクタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>属性配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2413-L2490" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::build_uri()" tabindex="-1" class="structure-title ">
                        build_uri                        	<small>($parts, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>parse_uri の逆</p>
<p>URI のパーツを与えると URI として構築する。<br />
パーツは不完全でも良い。例えば scheme を省略すると "://" すら付かない URI が生成される。</p>
<p>"query" パートだけは配列が許容される。その場合クエリ文字列に変換される。</p>
<p>Example:</p>
<pre><code class="language-php">// 完全指定
that(build_uri([
    'scheme'   =&gt; 'http',
    'user'     =&gt; 'user',
    'pass'     =&gt; 'pass',
    'host'     =&gt; 'localhost',
    'port'     =&gt; '80',
    'path'     =&gt; '/path/to/file',
    'query'    =&gt; ['id' =&gt; 1],
    'fragment' =&gt; 'hash',
]))-&gt;isSame('http://user:pass@localhost:80/path/to/file?id=1#hash');
// 一部だけ指定
that(build_uri([
    'scheme'   =&gt; 'http',
    'host'     =&gt; 'localhost',
    'path'     =&gt; '/path/to/file',
    'fragment' =&gt; 'hash',
]))-&gt;isSame('http://localhost/path/to/file#hash');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$parts</td>
				<td class="desc"><p>URI の各パーツ配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>URI 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2492-L2583" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::parse_uri()" tabindex="-1" class="structure-title ">
                        parse_uri                        	<small>($uri, $default = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>parse_url の仕様を少しいじったもの</p>
<p>parse_url とは下記が異なる。</p>
<ul>
<li>"単一文字列" はホスト名とみなされる（parse_url はパスとみなされる）</li>
<li>パートがなくてもキー自体は生成される（そしてその値は $default で指定したもの）</li>
<li>query は配列で返す（parse_str される）</li>
<li>パート値をスカラー値で返すことはできない（必ず8要素の配列を返す）</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// 完全指定
that(parse_uri('http://user:pass@localhost:80/path/to/file?id=1#hash'))-&gt;is([
    'scheme'   =&gt; 'http',
    'user'     =&gt; 'user',
    'pass'     =&gt; 'pass',
    'host'     =&gt; 'localhost',
    'port'     =&gt; '80',
    'path'     =&gt; '/path/to/file',
    'query'    =&gt; ['id' =&gt; 1],
    'fragment' =&gt; 'hash',
]);
// デフォルト値つき
that(parse_uri('localhost/path/to/file', [
    'scheme'   =&gt; 'http', // scheme のデフォルト値
    'user'     =&gt; 'user', // user のデフォルト値
    'port'     =&gt; '8080', // port のデフォルト値
    'host'     =&gt; 'hoge', // host のデフォルト値
]))-&gt;is([
    'scheme'   =&gt; 'http',      // scheme はないのでデフォルト値が使われている
    'user'     =&gt; 'user',      // user はないのでデフォルト値が使われている
    'pass'     =&gt; '',
    'host'     =&gt; 'localhost', // host はあるのでデフォルト値が使われていない
    'port'     =&gt; '8080',      // port はないのでデフォルト値が使われている
    'path'     =&gt; '/path/to/file',
    'query'    =&gt; [],
    'fragment' =&gt; '',
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$uri</td>
				<td class="desc"><p>パースする URI</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$default = []</td>
				<td class="desc"><p>$uri に足りないパーツがあった場合のデフォルト値。文字列を与えた場合はそのパース結果がデフォルト値になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>URI の各パーツ配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2585-L2667" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::build_query()" tabindex="-1" class="structure-title ">
                        build_query                        	<small>($data, $numeric_prefix = null, $arg_separator = null, $encoding_type = PHP_QUERY_RFC1738, $brackets = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>数値キーを削除する http_build_query</p>
<p>php の世界において配列のクエリ表現は <code>var[]=1&amp;var[]=2</code> で事足りる。<br />
しかし http_build_query では数値キーでも必ず <code>var[0]=1&amp;var[1]=2</code> になる。<br />
それはそれで正しいし、他言語との連携が必要な場合はそうせざるを得ない状況もあるが、単純に php だけで配列を表したい場合は邪魔だし文字長が長くなる。<br />
この関数を使うと数値キーを削除し、<code>var[]=1&amp;var[]=2</code> のようなクエリ文字列を生成できる。</p>
<p>シグネチャは http_build_query と同じで、 $numeric_prefix に数値的文字列を与えたときのみ動作が変化する。<br />
（$numeric_prefix の意味を考えればこの引数に数値的文字列を与える意味は皆無だろうので流用している）。</p>
<ul>
<li>1 を与えると最前列を残して [] (%5B%5D) が置換される</li>
<li>2 を与えると最前列とその右を残して [] (%5B%5D) が置換される</li>
<li>要するに正数を与えると「abs(n) 個を残して [] (%5B%5D) を置換する」という指定になる</li>
<li>-1 を与えると最後尾の [] (%5B%5D) が置換される</li>
<li>-2 を与えると最後尾とその左の [] (%5B%5D) が置換される</li>
<li>要するに負数を与えると「右から abs(n) 個の [] (%5B%5D) を置換する」という指定になる</li>
</ul>
<p>この仕様は <code>v[][]=1&amp;v[][]=2</code> のようなときにおいしくないためである。<br />
これは <code>$v=[[1], [2]]</code> のような値になるが、この場合 <code>$v=[[1, 2]]</code> という値が欲しい、という事が多い。<br />
そのためには <code>v[0][]=1&amp;v[0][]=2</code> のようにする必要があるための数値指定である。</p>
<p>$brackets で配列ブラケット文字を指定できるが、現実的には下記の3択だろう。</p>
<ul>
<li></li>
<li>['[', ']']: [] のままにする（ブラケットは必ずしもパーセントエンコーディングが必須ではない）</li>
<li></li>
</ul>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>object</td>
				<td class="rest">$data</td>
				<td class="desc"><p>クエリデータ</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>int<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$numeric_prefix = null</td>
				<td class="desc"><p>数値キープレフィックス</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$arg_separator = null</td>
				<td class="desc"><p>クエリセパレータ</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$encoding_type = PHP_QUERY_RFC1738</td>
				<td class="desc"><p>エンコードタイプ</p>
</td>
			</tr>
        			<tr>
				<td class="type">string[]<span class="type-separator"></span><wbr>string<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$brackets = null</td>
				<td class="desc"><p>配列ブラケット文字</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>クエリ文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2669-L2681" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::parse_query()" tabindex="-1" class="structure-title ">
                        parse_query                        	<small>($query) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>parse_str の返り値版</p>
<p>標準の parse_str は参照で受ける謎シグネチャなのでそれを返り値に変更したもの。</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$query</td>
				<td class="desc"><p>クエリ文字列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>クエリのパース結果配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2683-L2724" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ini_export()" tabindex="-1" class="structure-title ">
                        ini_export                        	<small>($iniarray, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列を INI 的文字列に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(ini_export(['a' =&gt; 1, 'b' =&gt; 'B', 'c' =&gt; PHP_SAPI]))-&gt;is('a = 1
b = "B"
c = "cli"
');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$iniarray</td>
				<td class="desc"><p>ini 化する配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>ini 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2726-L2750" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ini_import()" tabindex="-1" class="structure-title ">
                        ini_import                        	<small>($inistring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>INI 的文字列を連想配列に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(ini_import("
a = 1
b = 'B'
c = PHP_VERSION
"))-&gt;is(['a' =&gt; 1, 'b' =&gt; 'B', 'c' =&gt; PHP_VERSION]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$inistring</td>
				<td class="desc"><p>ini 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2752-L2919" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::csv_export()" tabindex="-1" class="structure-title ">
                        csv_export                        	<small>($csvarrays, $options = []) : string<span class="type-separator"></span><wbr>int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列の配列を CSV 的文字列に変換する</p>
<p>CSV ヘッダ行は全連想配列のキーの共通項となる。<br />
順番には依存しないが、余計な要素があってもそのキーはヘッダには追加されないし、データ行にも含まれない。<br />
ただし、オプションで headers が与えられた場合はそれを使用する。<br />
この headers オプションに連想配列を与えるとヘッダ文字列変換になる（[key =&gt; header] で「key を header で吐き出し」となる）。<br />
数値配列を与えると単純に順序指定での出力指定になるが、ヘッダ行が出力されなくなる。</p>
<p>callback オプションが渡された場合は「あらゆる処理の最初」にコールされる。<br />
つまりヘッダの読み換えや文字エンコーディングの変換が行われる前の状態でコールされる。<br />
また、 false を返すとその要素はスルーされる。</p>
<p>output オプションにリソースを渡すとそこに対して書き込みが行われる（fclose はされない）。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
$csvarrays = [
    ['a' =&gt; 'A1', 'b' =&gt; 'B1', 'c' =&gt; 'C1'],             // 普通の行
    ['c' =&gt; 'C2', 'a' =&gt; 'A2', 'b' =&gt; 'B2'],             // 順番が入れ替わっている行
    ['c' =&gt; 'C3', 'a' =&gt; 'A3', 'b' =&gt; 'B3', 'x' =&gt; 'X'], // 余計な要素が入っている行
];
that(csv_export($csvarrays))-&gt;is("a,b,c
A1,B1,C1
A2,B2,C2
A3,B3,C3
");

// ヘッダを指定できる
that(csv_export($csvarrays, [
    'headers' =&gt; ['a' =&gt; 'A', 'c' =&gt; 'C'], // a と c だけを出力＋ヘッダ文字変更
]))-&gt;is("A,C
A1,C1
A2,C2
A3,C3
");

// ヘッダ行を出さない
that(csv_export($csvarrays, [
    'headers' =&gt; ['a', 'c'], // a と c だけを出力＋ヘッダ行なし
]))-&gt;is("A1,C1
A2,C2
A3,C3
");

// structure:true で配列も扱える
that(csv_export([
    ['scalar' =&gt; '123', 'list' =&gt; ['list11', 'list12'], 'hash' =&gt; ['a' =&gt; 'hash1A', 'b' =&gt; 'hash1B']],
    ['scalar' =&gt; '456', 'list' =&gt; ['list21', 'list22'], 'hash' =&gt; ['a' =&gt; 'hash2A', 'b' =&gt; 'hash2B']],
], [
    'structure' =&gt; true,
]))-&gt;is("scalar,list[],list[],hash[a],hash[b]
123,list11,list12,hash1A,hash1B
456,list21,list22,hash2A,hash2B
");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$csvarrays</td>
				<td class="desc"><p>連想配列の配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列。fputcsv の第3引数以降もここで指定する</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>int</td>
			<td class="desc"><p>CSV 的文字列。output オプションを渡した場合は書き込みバイト数</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2921-L3079" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::csv_import()" tabindex="-1" class="structure-title ">
                        csv_import                        	<small>($csvstring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>CSV 的文字列を連想配列の配列に変換する</p>
<p>1行目をヘッダ文字列とみなしてそれをキーとした連想配列の配列を返す。<br />
ただし、オプションで headers が与えられた場合はそれを使用する。<br />
この headers オプションはヘッダフィルタも兼ねる（[n =&gt; header] で「n 番目フィールドを header で取り込み」となる）。<br />
入力にヘッダがありかつ headers に連想配列が渡された場合はフィルタ兼読み換えとなる（Example を参照）。</p>
<p>structure オプションが渡された場合は query like なヘッダーで配列になる。</p>
<p>callback オプションが渡された場合は「あらゆる処理の最後」にコールされる。<br />
つまりヘッダの読み換えや文字エンコーディングの変換が行われた後の状態でコールされる。<br />
また、 false を返すとその要素はスルーされる。</p>
<p>メモリ効率は意識しない（どうせ配列を返すので意識しても無駄）。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
that(csv_import("
a,b,c
A1,B1,C1
A2,B2,C2
A3,B3,C3
"))-&gt;is([
    ['a' =&gt; 'A1', 'b' =&gt; 'B1', 'c' =&gt; 'C1'],
    ['a' =&gt; 'A2', 'b' =&gt; 'B2', 'c' =&gt; 'C2'],
    ['a' =&gt; 'A3', 'b' =&gt; 'B3', 'c' =&gt; 'C3'],
]);

// ヘッダを指定できる
that(csv_import("
A1,B1,C1
A2,B2,C2
A3,B3,C3
", [
    'headers' =&gt; [0 =&gt; 'a', 2 =&gt; 'c'], // 1がないので1番目のフィールドを読み飛ばしつつ、0, 2 は "a", "c" として取り込む
]))-&gt;is([
    ['a' =&gt; 'A1', 'c' =&gt; 'C1'],
    ['a' =&gt; 'A2', 'c' =&gt; 'C2'],
    ['a' =&gt; 'A3', 'c' =&gt; 'C3'],
]);

// ヘッダありで連想配列で指定するとキーの読み換えとなる（指定しなければ読み飛ばしも行える）
that(csv_import("
a,b,c
A1,B1,C1
A2,B2,C2
A3,B3,C3
", [
    'headers' =&gt; ['a' =&gt; 'hoge', 'c' =&gt; 'piyo'], // a は hoge, c は piyo で読み込む。 b は指定がないので飛ばされる
]))-&gt;is([
    ['hoge' =&gt; 'A1', 'piyo' =&gt; 'C1'],
    ['hoge' =&gt; 'A2', 'piyo' =&gt; 'C2'],
    ['hoge' =&gt; 'A3', 'piyo' =&gt; 'C3'],
]);

// structure:true で配列も扱える
that(csv_import("
scalar,list[],list[],hash[a],hash[b]
123,list11,list12,hash1A,hash1B
456,list21,list22,hash2A,hash2B
", [
    'structure' =&gt; true,
]))-&gt;is([
    ['scalar' =&gt; '123', 'list' =&gt; ['list11', 'list12'], 'hash' =&gt; ['a' =&gt; 'hash1A', 'b' =&gt; 'hash1B']],
    ['scalar' =&gt; '456', 'list' =&gt; ['list21', 'list22'], 'hash' =&gt; ['a' =&gt; 'hash2A', 'b' =&gt; 'hash2B']],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>resource</td>
				<td class="rest">$csvstring</td>
				<td class="desc"><p>CSV 的文字列。ファイルポインタでも良いが終了後に必ず閉じられる</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列。fgetcsv の第3引数以降もここで指定する</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>連想配列の配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3081-L3276" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::json_export()" tabindex="-1" class="structure-title ">
                        json_export                        	<small>($value, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>json_encode のプロキシ関数</p>
<p>引数体系とデフォルト値を変更してある。また、エラー時に例外が飛ぶ。</p>
<p>下記の拡張オプションがある。</p>
<ul>
<li>JSON_INLINE_LEVEL: PRETTY_PRINT 時に指定以上の階層をインライン化する（数値以外にパスで階層も指定できる）</li>
<li>JSON_INLINE_SCALARLIST: PRETTY_PRINT 時にスカラーのみのリストをインライン化する</li>
<li>JSON_INDENT: PRETTY_PRINT 時にインデント数・文字列を指定する</li>
<li>JSON_CLOSURE: 任意のリテラルを埋め込む<ul>
<li>クロージャの返り値がそのまま埋め込まれるので、文字列化可能な結果を返さなければならない</li>
</ul>
</li>
</ul>
<p>JSON_ES5 を与えると JSON5 互換でエンコードされる。<br />
その際下記のプションも使用可能になる。</p>
<ul>
<li>JSON_TEMPLATE_LITERAL: 改行を含む文字列をテンプレートリテラルで出力する</li>
<li>JSON_TRAILING_COMMA: 末尾カンマを強制する</li>
<li>JSON_COMMENT_PREFIX: コメントとして埋め込まれるキープレフィックスを指定する<ul>
<li>そのキーで始まる要素が文字列なら // コメントになる</li>
<li>そのキーで始まる要素が配列なら /* コメントになる</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// オプションはこのように [定数 =&gt; bool] で渡す。false は指定されていないとみなされる（JSON_MAX_DEPTH 以外）
that(json_export(['a' =&gt; 'A', 'b' =&gt; 'B'], [
   JSON_PRETTY_PRINT =&gt; false,
]))-&gt;is('{"a":"A","b":"B"}');
// json5 でコメント付きかつ末尾カンマ強制モード
that(json_export(['a' =&gt; 'A', '#comment' =&gt; 'this is comment', 'b' =&gt; 'B'], [
   JSON_ES5            =&gt; true,
   JSON_TRAILING_COMMA =&gt; true,
   JSON_COMMENT_PREFIX =&gt; '#',
   JSON_PRETTY_PRINT   =&gt; true,
]))-&gt;is('{
    a: "A",
    // this is comment
    b: "B",
}');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">mixed</td>
				<td class="rest">$value</td>
				<td class="desc"><p>encode する値</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>JSON_*** をキーにした連想配列。 値が false は指定されていないとみなされる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>JSON 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3278-L3632" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::json_import()" tabindex="-1" class="structure-title ">
                        json_import                        	<small>($value, $options = []) : mixed</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>json_decode のプロキシ関数</p>
<p>引数体系とデフォルト値を変更してある。</p>
<p>JSON_ES5 に null か true を渡すと json5 としてでデコードする（null はまず json_decode で試みる、true は json5 のみ）。<br />
その場合拡張オプションとして下記がある。</p>
<ul>
<li>JSON_INT_AS_STRING: 常に整数を文字列で返す</li>
<li>JSON_FLOAT_AS_STRING: 常に小数を文字列で返す</li>
<li>JSON_BARE_AS_STRING: bare string を文字列として扱う</li>
<li>JSON_TEMPLATE_LITERAL: テンプレートリテラルが使用可能になる<ul>
<li>あくまで「文字列の括りに ` が使えるようになる」というものでテンプレートリテラルそのものではない</li>
<li>末尾のインデントと同じインデントがすべて除去され、前後の改行は取り除かれる</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// オプションはこのように [定数 =&gt; bool] で渡す。false は指定されていないとみなされる（JSON_MAX_DEPTH 以外）
that(json_import('{"a":"A","b":"B"}', [
   JSON_OBJECT_AS_ARRAY =&gt; true,
]))-&gt;is(['a' =&gt; 'A', 'b' =&gt; 'B']);

// json5 が使える
that(json_import('{a: "A", b: "B", }'))-&gt;is(['a' =&gt; 'A', 'b' =&gt; 'B']);

// テンプレートリテラル
that(json_import('`
    1
    2
    3
    `', [
    JSON_TEMPLATE_LITERAL =&gt; true,
]))-&gt;is("1\n2\n3");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$value</td>
				<td class="desc"><p>JSON 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>JSON_*** をキーにした連想配列。値が false は指定されていないとみなされる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">mixed</td>
			<td class="desc"><p>decode された値</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3634-L3696" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::paml_export()" tabindex="-1" class="structure-title ">
                        paml_export                        	<small>($pamlarray, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列を paml 的文字列に変換する</p>
<p>paml で出力することはまずないのでおまけ（import との対称性のために定義している）。</p>
<p>Example:</p>
<pre><code class="language-php">that(paml_export([
    'n' =&gt; null,
    'f' =&gt; false,
    'i' =&gt; 123,
    'd' =&gt; 3.14,
    's' =&gt; 'this is string',
]))-&gt;isSame('n: null, f: false, i: 123, d: 3.14, s: "this is string"');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$pamlarray</td>
				<td class="desc"><p>配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>PAML 的文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3698-L3851" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::paml_import()" tabindex="-1" class="structure-title ">
                        paml_import                        	<small>($pamlstring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>paml 的文字列をパースする</p>
<p>paml とは yaml を簡易化したような独自フォーマットを指す（Php Array Markup Language）。<br />
ざっくりと下記のような特徴がある。</p>
<ul>
<li>ほとんど yaml と同じだがフロースタイルのみでキーコロンの後のスペースは不要</li>
<li>yaml のアンカーや複数ドキュメントのようなややこしい仕様はすべて未対応</li>
<li>配列を前提にしているので、トップレベルの <code>[]</code> <code>{}</code> は不要</li>
<li><code>[]</code> でいわゆる php の配列、 <code>{}</code> で stdClass を表す（オプション指定可能）</li>
<li>bare string で php の定数を表す（クラス定数も完全修飾すれば使用可能）</li>
</ul>
<p>簡易的な設定の注入に使える（yaml は標準で対応していないし、json や php 配列はクオートの必要やケツカンマ問題がある）。<br />
なお、かなり緩くパースしてるので基本的にエラーにはならない。</p>
<p>早見表：</p>
<ul>
<li>php:  <code>["n" =&gt; null, "f" =&gt; false, "i" =&gt; 123, "d" =&gt; 3.14, "s" =&gt; "this is string", "a" =&gt; [1, 2, "x" =&gt; "X"]]</code><ul>
<li>ダブルアローとキーのクオートが冗長</li>
</ul>
</li>
<li>json: <code>{"n":null, "f":false, "i":123, "d":3.14, "s":"this is string", "a":{"0": 1, "1": 2, "x": "X"}}</code><ul>
<li>キーのクオートが冗長だしケツカンマ非許容</li>
</ul>
</li>
<li>yaml: <code>{n: null, f: false, i: 123, d: 3.14, s: "this is string", a: {0: 1, 1: 2, x: X}}</code><ul>
<li>理想に近いが、コロンの後にスペースが必要だし連想配列が少々難。なにより拡張や外部ライブラリが必要</li>
</ul>
</li>
<li>paml: <code>n:null, f:false, i:123, d:3.14, s:"this is string", a:[1, 2, x:X]</code><ul>
<li>シンプルイズベスト</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// こういったスカラー型はほとんど yaml と一緒だが、コロンの後のスペースは不要（あってもよい）
that(paml_import('n:null, f:false, i:123, d:3.14, s:"this is string"'))-&gt;isSame([
    'n' =&gt; null,
    'f' =&gt; false,
    'i' =&gt; 123,
    'd' =&gt; 3.14,
    's' =&gt; 'this is string',
]);
// 配列が使える（キーは連番なら不要）。ネストも可能
that(paml_import('a:[1,2,x:X,3], nest:[a:[b:[c:[X]]]]'))-&gt;isSame([
    'a'    =&gt; [1, 2, 'x' =&gt; 'X', 3],
    'nest' =&gt; [
        'a' =&gt; [
            'b' =&gt; [
                'c' =&gt; ['X']
            ],
        ],
    ],
]);
// bare 文字列で定数が使える。::class も特別扱いで定数とみなす
that(paml_import('pv:PHP_VERSION, ao:ArrayObject::STD_PROP_LIST, class:ArrayObject::class'))-&gt;isSame([
    'pv'    =&gt; \PHP_VERSION,
    'ao'    =&gt; \ArrayObject::STD_PROP_LIST,
    'class' =&gt; \ArrayObject::class,
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pamlstring</td>
				<td class="desc"><p>PAML 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>php 配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3853-L3926" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ltsv_export()" tabindex="-1" class="structure-title ">
                        ltsv_export                        	<small>($ltsvarray, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>配列を LTSV 的文字列に変換する</p>
<p>ラベル文字列に ":" を含む場合は例外を投げる（ラベルにコロンが来るとどうしようもない）。</p>
<p>escape オプションで「LTSV 的にまずい文字」がその文字でエスケープされる（具体的には "\n" と "\t"）。<br />
デフォルトでは "\" でエスケープされるので、整合性が崩れることはない。</p>
<p>encode オプションで「文字列化できない値」が来たときのその関数を通して出力される（その場合、目印として値の両サイドに ` が付く）。<br />
デフォルトでは json_encode される。</p>
<p>エンコード機能はおまけに過ぎない（大抵の場合はそんな機能は必要ない）。<br />
ので、この実装は互換性を維持せず変更される可能性がある。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
that(ltsv_export([
    "label1" =&gt; "value1",
    "label2" =&gt; "value2",
]))-&gt;is("label1:value1	label2:value2");

// タブや改行文字のエスケープ
that(ltsv_export([
    "label1" =&gt; "val\tue1",
    "label2" =&gt; "val\nue2",
]))-&gt;is("label1:val\\tue1	label2:val\\nue2");

// 配列のエンコード
that(ltsv_export([
    "label1" =&gt; "value1",
    "label2" =&gt; [1, 2, 3],
]))-&gt;is("label1:value1	label2:`[1,2,3]`");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$ltsvarray</td>
				<td class="desc"><p>配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>LTSV 的文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3928-L4001" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ltsv_import()" tabindex="-1" class="structure-title ">
                        ltsv_import                        	<small>($ltsvstring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>LTSV 的文字列を配列に変換する</p>
<p>escape オプションで「LTSV 的にまずい文字」がその文字でエスケープされる（具体的には "\n" と "\t"）。<br />
デフォルトでは "\" でエスケープされるので、整合性が崩れることはない。</p>
<p>decode オプションで「`` で囲まれた値」が来たときのその関数を通して出力される。<br />
デフォルトでは json_decode される。</p>
<p>エンコード機能はおまけに過ぎない（大抵の場合はそんな機能は必要ない）。<br />
ので、この実装は互換性を維持せず変更される可能性がある。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
that(ltsv_import("label1:value1	label2:value2"))-&gt;is([
    "label1" =&gt; "value1",
    "label2" =&gt; "value2",
]);

// タブや改行文字のエスケープ
that(ltsv_import("label1:val\\tue1	label2:val\\nue2"))-&gt;is([
    "label1" =&gt; "val\tue1",
    "label2" =&gt; "val\nue2",
]);

// 配列のデコード
that(ltsv_import("label1:value1	label2:`[1,2,3]`"))-&gt;is([
    "label1" =&gt; "value1",
    "label2" =&gt; [1, 2, 3],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$ltsvstring</td>
				<td class="desc"><p>LTSV 的文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4003-L4088" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::markdown_table()" tabindex="-1" class="structure-title ">
                        markdown_table                        	<small>($array, $option = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列の配列を markdown テーブル文字列にする</p>
<p>見出しはキーの和集合で生成され、改行は <code>&lt;br&gt;</code> に置換される。<br />
要素が全て数値の場合は右寄せになる。</p>
<p>Example:</p>
<pre><code class="language-php">// 最初の "\n" に意味はない（ズレると見づらいので冒頭に足しているだけ）
that("\n" . markdown_table([
   ['a' =&gt; 'a1', 'b' =&gt; 'b1'],
   ['b' =&gt; 'b2', 'c' =&gt; '2'],
   ['a' =&gt; 'a3', 'c' =&gt; '3'],
]))-&gt;is("
| a   | b   |   c |
| --- | --- | --: |
| a1  | b1  |     |
|     | b2  |   2 |
| a3  |     |   3 |
");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>連想配列の配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$option = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>markdown テーブル文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4090-L4160" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::markdown_list()" tabindex="-1" class="structure-title ">
                        markdown_list                        	<small>($array, $option = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>配列を markdown リスト文字列にする</p>
<p>Example:</p>
<pre><code class="language-php">// 最初の "\n" に意味はない（ズレると見づらいので冒頭に足しているだけ）
that("\n" . markdown_list([
    'dict'        =&gt; [
        'Key1' =&gt; 'Value1',
        'Key2' =&gt; 'Value2',
    ],
    'list'        =&gt; ['Item1', 'Item2', 'Item3'],
    'dict &amp; list' =&gt; [
        'Key' =&gt; 'Value',
        ['Item1', 'Item2', 'Item3'],
    ],
], ['separator' =&gt; ':']))-&gt;is("
- dict:
    - Key1:Value1
    - Key2:Value2
- list:
    - Item1
    - Item2
    - Item3
- dict &amp; list:
    - Key:Value
        - Item1
        - Item2
        - Item3
");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$option = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>markdown リスト文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4162-L4188" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::random_string()" tabindex="-1" class="structure-title ">
                        random_string                        	<small>($length = 8, $charlist = &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>安全な乱数文字列を生成する</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$length = 8</td>
				<td class="desc"><p>生成文字列長</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$charlist = &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</td>
				<td class="desc"><p>使用する文字セット</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>乱数文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4190-L4247" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::unique_string()" tabindex="-1" class="structure-title ">
                        unique_string                        	<small>($source, $initial = null, $charlist = &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列に含まれない文字列を生成する</p>
<p>例えば http のマルチパートバウンダリのような、「競合しない文字列」を生成する。<br />
実装は愚直に文字列を調べて存在しなければそれを返すようになっている。<br />
一応初期値や文字セットは指定可能。</p>
<p>$initial に int を与えると初期値としてその文字数分 $charlist から確保する。<br />
例えば生成後の変更が前提で、ある程度の長さを担保したいときに指定すれば最低でもその長さ以上は保証される。<br />
$initial に string を与えるとそれがそのまま初期値として使用される。<br />
例えば「ほぼ存在しない文字列」が予測できるのであればそれを指定すれば無駄な処理が省ける。</p>
<p>Example:</p>
<pre><code class="language-php">// 単純に呼ぶと生成1,2文字程度の文字列になる
that(unique_string('hello, world'))-&gt;stringLengthEqualsAny([1, 2]);
// 数値を含んでいないので候補文字に数値のみを指定すれば1文字で「存在しない文字列」となる
that(unique_string('hello, world', null, range(0, 9)))-&gt;stringLengthEquals(1);
// int を渡すと最低でもそれ以上は保証される
that(unique_string('hello, world', 5))-&gt;stringLengthEqualsAny([5, 6]);
// string を渡すとそれが初期値となる
that(unique_string('hello, world', 'prefix-'))-&gt;stringStartsWith('prefix');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$source</td>
				<td class="desc"><p>元文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>int</td>
				<td class="rest">$initial = null</td>
				<td class="desc"><p>初期文字列あるいは文字数</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$charlist = &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</td>
				<td class="desc"><p>使用する文字セット</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>一意な文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4249-L4283" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::kvsprintf()" tabindex="-1" class="structure-title ">
                        kvsprintf                        	<small>($format, $array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列を指定できるようにした vsprintf</p>
<p>sprintf の順序指定構文('%1$d')にキーを指定できる。</p>
<p>Example:</p>
<pre><code class="language-php">that(kvsprintf('%hoge$s %fuga$d', ['hoge' =&gt; 'ThisIs', 'fuga' =&gt; '3.14']))-&gt;isSame('ThisIs 3');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$format</td>
				<td class="desc"><p>フォーマット文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>フォーマット引数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>フォーマットされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4285-L4390" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::glob2regex()" tabindex="-1" class="structure-title ">
                        glob2regex                        	<small>($pattern, $flags = 0) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>glob 記法を正規表現に変換する</p>
<p>glob/fnmatch における「パスとしてのマッチ（ディレクトリ区切りの特別扱い）」という性質は失われ、あくまで文字列として扱う。<br />
サポートしている記法は下記（ <a href="https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%AD%E3%83%96">https://ja.wikipedia.org/wiki/グロブ</a> ）。</p>
<ul>
<li><code>*</code>: 0文字以上の任意の文字列にマッチ</li>
<li><code>?</code>: 任意の1文字にマッチ</li>
<li><code>[...]</code>: 括弧内で列挙されたどれか1文字にマッチ</li>
<li><code>[!...]</code>: 括弧内で列挙されていない何かの1文字にマッチ</li>
<li><code>[0-9]</code>: 括弧内で指定された範囲内の1文字にマッチ</li>
<li><code>[!0-9]</code>: 括弧内で指定されていない範囲内の1文字にマッチ</li>
<li><code>{a,b,c}</code>: 「a」、「b」あるいは「c」のいずれかにマッチ（要 GLOB_BRACE）</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">$files = ['hoge.jpg', 'test1.jpg', 'test12.jpg', 'test123.png', 'testA.jpg', 'testAB.jpg', 'testABC.png', 'test.jpg', 'test.jpeg'];
// 先頭一致する jpg
that(preg_grep('#' . glob2regex('test*.jpg') . '#', $files))-&gt;isSame([
    1 =&gt; 'test1.jpg',
    2 =&gt; 'test12.jpg',
    4 =&gt; 'testA.jpg',
    5 =&gt; 'testAB.jpg',
    7 =&gt; 'test.jpg',
]);
// 先頭一致した2文字の jpg
that(preg_grep('#' . glob2regex('test??.jpg') . '#', $files))-&gt;isSame([
    2 =&gt; 'test12.jpg',
    5 =&gt; 'testAB.jpg',
]);
// 先頭一致した数値1桁の jpg
that(preg_grep('#' . glob2regex('test[0-9].jpg') . '#', $files))-&gt;isSame([
    1 =&gt; 'test1.jpg',
]);
// 先頭一致した数値1桁でない jpg
that(preg_grep('#' . glob2regex('test[!0-9].jpg') . '#', $files))-&gt;isSame([
    4 =&gt; 'testA.jpg',
]);
// jpeg, jpg のどちらにもマッチ（GLOB_BRACE 使用）
that(preg_grep('#' . glob2regex('test.jp{e,}g', GLOB_BRACE) . '#', $files))-&gt;isSame([
    7 =&gt; 'test.jpg',
    8 =&gt; 'test.jpeg',
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>glob パターン文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$flags = 0</td>
				<td class="desc"><p>glob フラグ。現在のところ GLOB_BRACE だけが有効</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>正規表現パターン文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4392-L4470" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_matches()" tabindex="-1" class="structure-title ">
                        preg_matches                        	<small>($pattern, $subject, $flags = 0, $offset = 0) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>複数マッチに対応した preg_match</p>
<p>要するに preg_match_all とほぼ同義だが、下記の差異がある。</p>
<ul>
<li>正規表現フラグに "g" フラグが使用できる。 "g" を指定すると preg_match_all 相当の動作になる</li>
<li>キャプチャは参照引数ではなく返り値で返す</li>
<li>「パターン全体マッチ」を表す 0 キーは返さない</li>
<li>上記2つの動作により「マッチしなかったら空配列を返す」という動作になる</li>
<li>名前付きキャプチャーに対応する数値キーは伏せられる</li>
<li>伏せられても数値キーは 0 ベースで通し連番となる</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">$pattern = '#(\d{4})/(?&lt;month&gt;\d{1,2})(?:/(\d{1,2}))?#';
// 1(month)番目は名前付きキャプチャなので 1 キーとしては含まれず month というキーで返す（2 が詰められて 1 になる）
that(preg_matches($pattern, '2014/12/24'))-&gt;isSame([0 =&gt; '2014', 'month' =&gt; '12', 1 =&gt; '24']);
// 一切マッチしなければ空配列が返る
that(preg_matches($pattern, 'hoge'))-&gt;isSame([]);

// g オプションを与えると preg_match_all 相当の動作になる（flags も使える）
$pattern = '#(\d{4})/(?&lt;month&gt;\d{1,2})(?:/(\d{1,2}))?#g';
that(preg_matches($pattern, '2013/11/23, 2014/12/24', PREG_SET_ORDER))-&gt;isSame([
    [0 =&gt; '2013', 'month' =&gt; '11', 1 =&gt; '23'],
    [0 =&gt; '2014', 'month' =&gt; '12', 1 =&gt; '24'],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$flags = 0</td>
				<td class="desc"><p>PREG 定数</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>キャプチャした配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4472-L4509" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_capture()" tabindex="-1" class="structure-title ">
                        preg_capture                        	<small>($pattern, $subject, $default) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>キャプチャを主軸においた preg_match</p>
<p>$pattern で $subject をマッチングして $default で埋めて返す。$default はフィルタも兼ねる。<br />
空文字マッチは「マッチしていない」とみなすので注意（$default が使用される）。</p>
<p>キャプチャを主軸においているので「マッチしなかった」は検出不可能。<br />
$default がそのまま返ってくる。</p>
<p>Example:</p>
<pre><code class="language-php">$pattern = '#(\d{4})/(\d{1,2})(/(\d{1,2}))?#';
$default = [1 =&gt; '2000', 2 =&gt; '1', 4 =&gt; '1'];
// 完全にマッチするのでそれぞれ返ってくる
that(preg_capture($pattern, '2014/12/24', $default))-&gt;isSame([1 =&gt; '2014', 2 =&gt; '12', 4 =&gt; '24']);
// 最後の \d{1,2} はマッチしないのでデフォルト値が使われる
that(preg_capture($pattern, '2014/12', $default))-&gt;isSame([1 =&gt; '2014', 2 =&gt; '12', 4 =&gt; '1']);
// 一切マッチしないので全てデフォルト値が使われる
that(preg_capture($pattern, 'hoge', $default))-&gt;isSame([1 =&gt; '2000', 2 =&gt; '1', 4 =&gt; '1']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$default</td>
				<td class="desc"><p>デフォルト値</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>キャプチャした配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4511-L4552" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_splice()" tabindex="-1" class="structure-title ">
                        preg_splice                        	<small>($pattern, $replacement, $subject, &amp;$matches = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>キャプチャも行える preg_replace</p>
<p>「置換を行いつつ、キャプチャ文字列が欲しい」状況はまれによくあるはず。</p>
<p>$replacement に callable を渡すと preg_replace_callback がコールされる。<br />
callable とはいっても単純文字列 callble （"strtoupper" など）は callable とはみなされない。<br />
配列形式の callable や クロージャのみ preg_replace_callback になる。</p>
<p>Example:</p>
<pre><code class="language-php">// 数字を除去しつつその除去された数字を得る
that(preg_splice('#\\d+#', '', 'abc123', $m))-&gt;isSame('abc');
that($m)-&gt;isSame(['123']);

// callable だと preg_replace_callback が呼ばれる
that(preg_splice('#[a-z]+#', fn($m) =&gt; strtoupper($m[0]), 'abc123', $m))-&gt;isSame('ABC123');
that($m)-&gt;isSame(['abc']);

// ただし、 文字列 callable は文字列として扱う
that(preg_splice('#[a-z]+#', 'strtoupper', 'abc123', $m))-&gt;isSame('strtoupper123');
that($m)-&gt;isSame(['abc']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>callable</td>
				<td class="rest">$replacement</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">&amp;$matches = []</td>
				<td class="desc"><p>キャプチャ配列が格納される</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4554-L4617" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_replaces()" tabindex="-1" class="structure-title ">
                        preg_replaces                        	<small>($pattern, $replacements, $subject, $limit = -1, &amp;$count = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>パターン番号を指定して preg_replace する</p>
<p>パターン番号を指定してそれのみを置換する。<br />
名前付きキャプチャを使用している場合はキーに文字列も使える。<br />
値にクロージャを渡した場合はコールバックされて置換される。</p>
<p>$replacements に単一文字列を渡した場合、 <code>[1 =&gt; $replacements]</code> と等しくなる（第1キャプチャを置換）。</p>
<p>Example:</p>
<pre><code class="language-php">// a と z に囲まれた数字を XXX に置換する
that(preg_replaces('#a(\d+)z#', [1 =&gt; 'XXX'], 'a123z'))-&gt;isSame('aXXXz');
// 名前付きキャプチャも指定できる
that(preg_replaces('#a(?&lt;digit&gt;\d+)z#', ['digit' =&gt; 'XXX'], 'a123z'))-&gt;isSame('aXXXz');
// クロージャを渡すと元文字列を引数としてコールバックされる
that(preg_replaces('#a(?&lt;digit&gt;\d+)z#', ['digit' =&gt; fn($src) =&gt; $src * 2], 'a123z'))-&gt;isSame('a246z');
// 複合的なサンプル（a タグの href と target 属性を書き換える）
that(preg_replaces('#&lt;a\s+href="(?&lt;href&gt;.*)"\s+target="(?&lt;target&gt;.*)"&gt;#', [
    'href'   =&gt; fn($href) =&gt; strtoupper($href),
    'target' =&gt; fn($target) =&gt; strtoupper($target),
], '&lt;a href="hoge" target="fuga"&gt;inner text&lt;/a&gt;'))-&gt;isSame('&lt;a href="HOGE" target="FUGA"&gt;inner text&lt;/a&gt;');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$replacements</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$limit = -1</td>
				<td class="desc"><p>置換回数</p>
</td>
			</tr>
        			<tr>
				<td class="type">null</td>
				<td class="rest">&amp;$count = null</td>
				<td class="desc"><p>置換回数格納変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4619-L4694" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::damerau_levenshtein()" tabindex="-1" class="structure-title ">
                        damerau_levenshtein                        	<small>($s1, $s2, $cost_ins = 1, $cost_rep = 1, $cost_del = 1, $cost_swp = 1) : int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>Damerau–Levenshtein 距離を返す</p>
<p>簡単に言えば「転置（入れ替え）を考慮したレーベンシュタイン」である。<br />
例えば "destroy" と "destory" は 「1挿入1削除=2」であるが、Damerau 版だと「1転置=1」となる。</p>
<p>また、マルチバイト（UTF-8 のみ）にも対応している。</p>
<p>Example:</p>
<pre><code class="language-php">// destroy と destory は普通にレーベンシュタイン距離を取ると 2 になるが・・・
that(levenshtein("destroy", "destory"))-&gt;isSame(2);
// damerau_levenshtein だと1である
that(damerau_levenshtein("destroy", "destory"))-&gt;isSame(1);
// UTF-8 でも大丈夫
that(damerau_levenshtein("あいうえお", "あいえうお"))-&gt;isSame(1);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$s1</td>
				<td class="desc"><p>対象文字列1</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$s2</td>
				<td class="desc"><p>対象文字列2</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_ins = 1</td>
				<td class="desc"><p>挿入のコスト</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_rep = 1</td>
				<td class="desc"><p>置換のコスト</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_del = 1</td>
				<td class="desc"><p>削除のコスト</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_swp = 1</td>
				<td class="desc"><p>転置のコスト</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">int</td>
			<td class="desc"><p>Damerau–Levenshtein 距離</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4696-L4726" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ngram()" tabindex="-1" class="structure-title ">
                        ngram                        	<small>($string, $N, $encoding = &quot;UTF-8&quot;) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>N-gram 化して配列で返す</p>
<p>素朴な実装であり特記事項はない。<br />
末端要素や除去フィルタくらいは実装するかもしれない。</p>
<p>Example:</p>
<pre><code class="language-php">that(ngram("あいうえお", 1))-&gt;isSame(["あ", "い", "う", "え", "お"]);
that(ngram("あいうえお", 2))-&gt;isSame(["あい", "いう", "うえ", "えお", "お"]);
that(ngram("あいうえお", 3))-&gt;isSame(["あいう", "いうえ", "うえお", "えお", "お"]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$N</td>
				<td class="desc"><p>N-gram の N</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$encoding = &quot;UTF-8&quot;</td>
				<td class="desc"><p>マルチバイトエンコーディング</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>N-gram 配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4728-L4815" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_guess()" tabindex="-1" class="structure-title ">
                        str_guess                        	<small>($string, $candidates, &amp;$percent = null) : string<span class="type-separator"></span><wbr>array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>$string に最も近い文字列を返す</p>
<p>N-gram 化して類似度の高い結果を返す。<br />
$percent で一致度を受けられる。<br />
予め値が入った変数を渡すとその一致度以上の候補を高い順で配列で返す。</p>
<p>この関数の結果（内部実装）は互換性を考慮しない。</p>
<p>Example:</p>
<pre><code class="language-php">// 「あいうえお」と最も近い文字列は「あいゆえに」である
that(str_guess("あいうえお", [
    'かきくけこ', // マッチ度 0%（1文字もかすらない）
    'ぎぼあいこ', // マッチ度約 13.1%（"あい"はあるが位置が異なる）
    'あいしてる', // マッチ度約 13.8%（"あい"がマッチ）
    'かとうあい', // マッチ度約 16.7%（"あい"があり"う"の位置が等しい）
    'あいゆえに', // マッチ度約 17.4%（"あい", "え"がマッチ）
]))-&gt;isSame('あいゆえに');

// マッチ度30%以上を高い順に配列で返す
$percent = 30;
that(str_guess("destory", [
    'describe',
    'destroy',
    'destruct',
    'destiny',
    'destinate',
], $percent))-&gt;isSame([
    'destroy',
    'destiny',
    'destruct',
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$candidates</td>
				<td class="desc"><p>候補文字列配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">?float</td>
				<td class="rest">&amp;$percent = null</td>
				<td class="desc"><p>マッチ度（％）を受ける変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>array</td>
			<td class="desc"><p>候補の中で最も近い文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4817-L4896" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_array()" tabindex="-1" class="structure-title ">
                        str_array                        	<small>($string, $delimiter, $hashmode) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を区切り文字で区切って配列に変換する</p>
<p>典型的には http ヘッダとか sar の結果とかを配列にする。</p>
<p>Example:</p>
<pre><code class="language-php">// http response header  を ":" 区切りで連想配列にする
that(str_array("
HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8
Connection: Keep-Alive
", ':', true))-&gt;isSame([
    'HTTP/1.1 200 OK',
    'Content-Type' =&gt; 'text/html; charset=utf-8',
    'Connection'   =&gt; 'Keep-Alive',
]);

// sar の結果を " " 区切りで連想配列の配列にする
that(str_array("
13:00:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
13:10:01        all      0.99      0.10      0.71      0.00      0.00     98.19
13:20:01        all      0.60      0.10      0.56      0.00      0.00     98.74
", ' ', false))-&gt;isSame([
    1 =&gt; [
        '13:00:01' =&gt; '13:10:01',
        'CPU'      =&gt; 'all',
        '%user'    =&gt; '0.99',
        '%nice'    =&gt; '0.10',
        '%system'  =&gt; '0.71',
        '%iowait'  =&gt; '0.00',
        '%steal'   =&gt; '0.00',
        '%idle'    =&gt; '98.19',
    ],
    2 =&gt; [
        '13:00:01' =&gt; '13:20:01',
        'CPU'      =&gt; 'all',
        '%user'    =&gt; '0.60',
        '%nice'    =&gt; '0.10',
        '%system'  =&gt; '0.56',
        '%iowait'  =&gt; '0.00',
        '%steal'   =&gt; '0.00',
        '%idle'    =&gt; '98.74',
    ],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列。配列を与えても動作する</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>区切り文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$hashmode</td>
				<td class="desc"><p>連想配列モードか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4898-L4935" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_common_prefix()" tabindex="-1" class="structure-title ">
                        str_common_prefix                        	<small>(...$strings) : ?string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列群の共通のプレフィックスを返す</p>
<p>共通部分がない場合は空文字を返す。<br />
引数は2個以上必要で足りない場合は null を返す。</p>
<p>Example:</p>
<pre><code class="language-php">// 共通プレフィックスを返す
that(str_common_prefix('ab', 'abc', 'abcd'))-&gt;isSame('ab');
that(str_common_prefix('あ', 'あい', 'あいう'))-&gt;isSame('あ');
// 共通部分がない場合は空文字を返す
that(str_common_prefix('xab', 'yabc', 'zabcd'))-&gt;isSame('');
that(str_common_prefix('わあ', 'をあい', 'んあいう'))-&gt;isSame('');
// 引数不足の場合は null を返す
that(str_common_prefix('a'))-&gt;isSame(null);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string[]</td>
				<td class="rest">...$strings</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">?string</td>
			<td class="desc"><p>共通部分（共通がない場合は空文字）</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4937-L4970" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::mb_substr_replace()" tabindex="-1" class="structure-title ">
                        mb_substr_replace                        	<small>($string, $replacement, $start, $length = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>マルチバイト対応 substr_replace</p>
<p>本家は配列を与えたりできるが、ややこしいし使う気がしないので未対応。</p>
<p>Example:</p>
<pre><code class="language-php">// 2文字目から5文字を「あいうえお」に置換する
that(mb_substr_replace('０１２３４５６７８９', 'あいうえお', 2, 5))-&gt;isSame('０１あいうえお７８９');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$replacement</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$start</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        			<tr>
				<td class="type">?int</td>
				<td class="rest">$length = null</td>
				<td class="desc"><p>置換長</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L4972-L5025" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::mb_str_pad()" tabindex="-1" class="structure-title ">
                        mb_str_pad                        	<small>($string, $width, $pad_string = &quot; &quot;, $pad_type = ryunosuke\Functions\Package\STR_PAD_RIGHT) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>マルチバイト版 str_pad</p>
<p>単純な mb_strlen での実装ではなく mb_strwidth による実装となっている。<br />
「文字数を指定して pad したい」という状況は utf8 で2バイト超えという状況がふさわしくないことが非常に多い。<br />
多くは単純に「全角は2文字、半角は1文字」というユースケースが多い（埋める文字がスペースなら特に）。</p>
<p>また、$pad_string が切り捨てられることもない。<br />
標準の str_pad はできるだけ詰めようとして中途半端な $pad_string になることがあるが、その動作は模倣していない。<br />
端的に「$width を超えないようにできる限り敷き詰めて返す」という動作になる。</p>
<p>Example:</p>
<pre><code class="language-php">// マルチバイトは2文字幅として換算される
that(mb_str_pad('aaaa', 12, '-'))-&gt;isSame('aaaa--------');
that(mb_str_pad('ああ', 12, '-'))-&gt;isSame('ああ--------');
// $pad_string は切り捨てられない
that(mb_str_pad('aaaa', 12, 'xyz'))-&gt;isSame('aaaaxyzxyz'); // 10文字で返す（あと1回 xyz すると 13 文字になり width を超えてしまう（かといって xy だけを足したりもしない））
that(mb_str_pad('ああ', 12, 'xyz'))-&gt;isSame('ああxyzxyz'); // マルチバイトでも同じ
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$width</td>
				<td class="desc"><p>埋める幅</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pad_string = &quot; &quot;</td>
				<td class="desc"><p>埋める文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$pad_type = ryunosuke\Functions\Package\STR_PAD_RIGHT</td>
				<td class="desc"><p>埋める位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>指定文字で埋められた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5027-L5088" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::mb_ellipsis()" tabindex="-1" class="structure-title ">
                        mb_ellipsis                        	<small>($string, $width, $trimmarker = &quot;...&quot;, $pos = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を指定幅に丸める</p>
<p>mb_strimwidth と機能的には同じだが、省略文字の差し込み位置を $pos で指定できる。<br />
$pos は負数が指定できる。負数の場合後ろから数えられる。<br />
省略した場合は真ん中となる。</p>
<p>Example:</p>
<pre><code class="language-php">// 10文字幅に丸める（$pos 省略なので真ん中が省略される）
that(mb_ellipsis('あいうえお1234567890', 10, '...'))-&gt;isSame('あい...890');
// 10文字幅に丸める（$pos=1 なので1幅目から省略される…が、1文字は「あ」なので前方に切られる）
that(mb_ellipsis('あいうえお1234567890', 10, '...', 1))-&gt;isSame('...567890');
// 10文字幅に丸める（$pos=2 なので2幅目から省略される）
that(mb_ellipsis('あいうえお1234567890', 10, '...', 2))-&gt;isSame('あ...67890');
// 10文字幅に丸める（$pos=-1 なので後ろから1幅目から省略される）
that(mb_ellipsis('あいうえお1234567890', 10, '...', -1))-&gt;isSame('あいう...0');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$width</td>
				<td class="desc"><p>丸める幅</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$trimmarker = &quot;...&quot;</td>
				<td class="desc"><p>省略文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$pos = null</td>
				<td class="desc"><p>省略記号の差し込み位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>丸められた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5090-L5104" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::mb_trim()" tabindex="-1" class="structure-title ">
                        mb_trim                        	<small>($string) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>マルチバイト対応 trim</p>
<p>Example:</p>
<pre><code class="language-php">that(mb_trim(' 　 あああ　 　'))-&gt;isSame('あああ');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>trim した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5106-L5194" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::render_template()" tabindex="-1" class="structure-title ">
                        render_template                        	<small>($template, $vars) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>"hoge ${hoge}" 形式のレンダリング</p>
<p>ES6 のテンプレートリテラルのようなもの。</p>
<ul>
<li>埋め込みは ${var} のみで、{$var} は無効</li>
<li>${expression} は「評価結果の変数名」ではなく「評価結果」が埋め込まれる</li>
</ul>
<p>$vars に callable を渡すと元文字列とプレースホルダー部分の配列でコールバックされる（タグ付きテンプレートの模倣）。</p>
<p>実装的にはただの文字列 eval なので " はエスケープする必要がある。</p>
<p>この関数は実験的機能のため、互換性を維持せず変更される可能性がある。</p>
<p>Example:</p>
<pre><code class="language-php">that(render_template('${max($nums)}', ['nums' =&gt; [1, 9, 3]]))-&gt;isSame('9');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template</td>
				<td class="desc"><p>レンダリングするファイル名</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>object<span class="type-separator"></span><wbr><a href="http://php.net/manual/ja/class.closure.php" class="fqsen" target="_blank">\Closure</a></td>
				<td class="rest">$vars</td>
				<td class="desc"><p>レンダリング変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5196-L5267" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::render_string()" tabindex="-1" class="structure-title ">
                        render_string                        	<small>($template, $array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>"hoge {$hoge}" 形式のレンダリング</p>
<p>文字列を eval して "hoge {$hoge}" 形式の文字列に変数を埋め込む。<br />
基本処理は <code>eval("return '" . addslashes($template) . "';");</code> と考えて良いが、下記が異なる。</p>
<ul>
<li>数値キーが参照できる</li>
<li>クロージャは呼び出し結果が埋め込まれる。引数は (変数配列, 自身のキー文字列)</li>
<li>引数をそのまま返すだけの特殊な変数 $_ が宣言される</li>
<li>シングルクォートのエスケープは外される</li>
</ul>
<p>$<em> が宣言されるのは変数配列に '</em>' を含んでいないときのみ（上書きを防止するため）。<br />
この $_ は php の埋め込み変数の闇を利用するととんでもないことが出来たりする（サンプルやテストコードを参照）。</p>
<p>ダブルクオートはエスケープされるので文字列からの脱出はできない。<br />
また、 <code>{$_(syntax(""))}</code> のように {$_()} 構文で " も使えなくなるので \' を使用しなければならない。</p>
<p>Example:</p>
<pre><code class="language-php">// 数値キーが参照できる
that(render_string('${0}', ['number']))-&gt;isSame('number');
// クロージャは呼び出し結果が埋め込まれる
that(render_string('$c', ['c' =&gt; fn($vars, $k) =&gt; $k . '-closure']))-&gt;isSame('c-closure');
// 引数をそのまま返すだけの特殊な変数 $_ が宣言される
that(render_string('{$_(123 + 456)}', []))-&gt;isSame('579');
// 要するに '$_()' の中に php の式が書けるようになる
that(render_string('{$_(implode(\',\', $strs))}', ['strs' =&gt; ['a', 'n', 'z']]))-&gt;isSame('a,n,z');
that(render_string('{$_(max($nums))}', ['nums' =&gt; [1, 9, 3]]))-&gt;isSame('9');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template</td>
				<td class="desc"><p>レンダリング文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>レンダリング変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5269-L5281" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::render_file()" tabindex="-1" class="structure-title ">
                        render_file                        	<small>($template_file, $array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>"hoge {$hoge}" 形式のレンダリングのファイル版</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template_file</td>
				<td class="desc"><p>レンダリングするファイル名</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>レンダリング変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            	<table class="table">
		<caption>See</caption>
		<tbody>
        			<tr>
				<td class="type">
                                            <a href="ryunosuke-Functions-Package-Strings$typespace.html#ryunosuke\Functions\Package\Strings::render_string()" class="fqsen "><small>ryunosuke\Functions\Package\</small><wbr>Strings::render_string()</a>                    				</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
    					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5283-L5315" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ob_include()" tabindex="-1" class="structure-title ">
                        ob_include                        	<small>($include_file, $array = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>変数を extract して include する</p>
<p>Example:</p>
<pre><code class="language-php">// このようなテンプレートファイルを用意すると
file_put_contents(sys_get_temp_dir() . '/template.php', '
This is plain text.
This is &lt;?= $var ?&gt;.
This is &lt;?php echo strtoupper($var) ?&gt;.
');
// このようにレンダリングできる
that(ob_include(sys_get_temp_dir() . '/template.php', ['var' =&gt; 'hoge']))-&gt;isSame('
This is plain text.
This is hoge.
This is HOGE.
');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$include_file</td>
				<td class="desc"><p>include するファイル名</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array = []</td>
				<td class="desc"><p>extract される連想変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5317-L5334" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::include_string()" tabindex="-1" class="structure-title ">
                        include_string                        	<small>($template, $array = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>変数を extract して include する（文字列指定）</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template</td>
				<td class="desc"><p>テンプレート文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array = []</td>
				<td class="desc"><p>extract される連想変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            	<table class="table">
		<caption>See</caption>
		<tbody>
        			<tr>
				<td class="type">
                                            <a href="ryunosuke-Functions-Package-Strings$typespace.html#ryunosuke\Functions\Package\Strings::ob_include()" class="fqsen "><small>ryunosuke\Functions\Package\</small><wbr>Strings::ob_include()</a>                    				</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
    					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            		</ul>
    
	<div class="attribute">
		<span class="label label-default"></span>
		<span class="label label-default"></span>
	</div>
	<div class="clearfix"></div>
</div>
</body>
</html>
