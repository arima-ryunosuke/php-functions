<!DOCTYPE html>
<html>
<head>	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/foundation.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js-bootstrap-css/1.2.1/typeaheadjs.min.css">
	<link rel="stylesheet" type="text/css" data-href="common.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/3.1.1/bootstrap3-typeahead.min.js"></script>
	<script data-src="common.js"></script>

	<script>
        (function () {
            var cachekey;
            try {
                cachekey = window.parent.CACHEKEY;
            }
            catch (e) {
                cachekey = 'nocache';
            }
            $('link[data-href]').attr('href', function () {
                return this.dataset.href + '?' + cachekey;
            });
            $('script[data-src]').attr('src', function () {
                return this.dataset.src + '?' + cachekey;
            });

            $(document).on('click', 'a[href]:not([target="_blank"]):not(.cachekey)', function () {
                this.classList.add('cachekey');
                this.href = this.href.replace('.html', '.html?' + cachekey);
            });
        })();
	</script>
    </head>
<body class="typespace">
<a id="anchor" href="./" style="display: none"></a>
<h1 class="ellipsis fixed">
	<span class="pull-left">
	Structure
	<small class="ellipsis-text">(ryunosuke\Functions\Package\Strings)</small>
	</span>
	<span class="pull-right">
		<small class="frame-switch">
		<a target="_parent">frame</a> | <a target="_parent">noframe</a>
		</small>
	</span>
</h1>
<div class="main-wrapper">
	<div class="attribute">
		<span class="label label-danger"></span>
		<span class="label label-warning"></span>
		<span class="label label-info"></span>
		<span class="label label-info"></span>
		<span class="label label-deprecated"></span>
        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L5-L3533" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                    	</div>

	<h2>class <span class="category-name">ryunosuke\Functions\Package\Strings</span></h2>

	<div class="description"><p>文字列関連のユーティリティ</p>
</div>

	<h3>Construction</h3>
                
	<h3>Hierarchy</h3>
	<div class="hierarchy"></div>

	<h3>Constants</h3>
    		<ul>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L10-L11" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::JSON_MAX_DEPTH" tabindex="-1" class="structure-title">
						<small>integer</small>
                        JSON_MAX_DEPTH						<var> = -1</var>
					</h4>
					<div class="inner-item">
						<div class="description"><p>json_*** 関数で $depth 引数を表す定数</p>
</div>

                                                					</div>
				</li>
            		</ul>
    
	<h3>Properties</h3>
    
	<h3>Methods</h3>
    		<ul>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L13-L27" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strcat()" tabindex="-1" class="structure-title ">
                        strcat                        	<small>(...$variadic) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列結合の関数版</p>
<p>Example:</p>
<pre><code class="language-php">that(strcat('a', 'b', 'c'))-&gt;isSame('abc');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">mixed</td>
				<td class="rest">...$variadic</td>
				<td class="desc"><p>結合する文字列（可変引数）</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>結合した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L29-L56" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::concat()" tabindex="-1" class="structure-title ">
                        concat                        	<small>(...$variadic) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>strcat の空文字回避版</p>
<p>基本は strcat と同じ。ただし、<strong>引数の内1つでも空文字を含むなら空文字を返す</strong>。</p>
<p>「プレフィックスやサフィックスを付けたいんだけど、空文字の場合はそのままで居て欲しい」という状況はまれによくあるはず。<br />
コードで言えば <code>strlen($string) ? 'prefix-' . $string : '';</code> のようなもの。<br />
可変引数なので 端的に言えば mysql の CONCAT みたいな動作になる（あっちは NULL だが）。</p>
<pre><code class="language-php">that(concat('prefix-', 'middle', '-suffix'))-&gt;isSame('prefix-middle-suffix');
that(concat('prefix-', '', '-suffix'))-&gt;isSame('');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">mixed</td>
				<td class="rest">...$variadic</td>
				<td class="desc"><p>結合する文字列（可変引数）</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>結合した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L58-L93" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::split_noempty()" tabindex="-1" class="structure-title ">
                        split_noempty                        	<small>($delimiter, $string, $trimchars = true) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>空文字を除外する文字列分割</p>
<ul>
<li>空文字を任意の区切り文字で分割しても常に空配列</li>
<li>キーは連番で返す（歯抜けがないただの配列）</li>
</ul>
<p>$triming を指定した場合、結果配列にも影響する。<br />
つまり「除外は trim したいが結果配列にはしたくない」はできない。</p>
<p>Example:</p>
<pre><code class="language-php">that(split_noempty(',', 'a, b, c'))-&gt;isSame(['a', 'b', 'c']);
that(split_noempty(',', 'a, , , b, c'))-&gt;isSame(['a', 'b', 'c']);
that(split_noempty(',', 'a, , , b, c', false))-&gt;isSame(['a', ' ', ' ', ' b', ' c']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>区切り文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>bool</td>
				<td class="rest">$trimchars = true</td>
				<td class="desc"><p>指定した文字を trim する。true を指定すると trim する</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>指定文字で分割して空文字を除いた配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L95-L131" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::multiexplode()" tabindex="-1" class="structure-title ">
                        multiexplode                        	<small>($delimiter, $string, $limit = PHP_INT_MAX) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>explode の配列対応と $limit の挙動を変えたもの</p>
<p>$delimiter には配列が使える。いわゆる「複数文字列での分割」の動作になる。</p>
<p>$limit に負数を与えると「その絶対値-1までを結合したものと残り」を返す。<br />
端的に言えば「正数を与えると後詰めでその個数で返す」「負数を与えると前詰めでその（絶対値）個数で返す」という動作になる。</p>
<p>Example:</p>
<pre><code class="language-php">// 配列を与えると複数文字列での分割
that(multiexplode([',', ' ', '|'], 'a,b c|d'))-&gt;isSame(['a', 'b', 'c', 'd']);
// 負数を与えると前詰め
that(multiexplode(',', 'a,b,c,d', -2))-&gt;isSame(['a,b,c', 'd']);
// もちろん上記2つは共存できる
that(multiexplode([',', ' ', '|'], 'a,b c|d', -2))-&gt;isSame(['a,b c', 'd']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>分割文字列。配列可</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$limit = PHP_INT_MAX</td>
				<td class="desc"><p>分割数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>分割された配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L133-L210" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::quoteexplode()" tabindex="-1" class="structure-title ">
                        quoteexplode                        	<small>($delimiter, $string, $limit = null, $enclosures = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>エスケープやクオートに対応した explode</p>
<p>$enclosures は配列で開始・終了文字が別々に指定できるが、実装上の都合で今のところ1文字ずつのみ。</p>
<p>歴史的な理由により第3引数は $limit でも $enclosures でもどちらでも渡すことができる。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな例
that(quoteexplode(',', 'a,b,c\\,d,"e,f"'))-&gt;isSame([
    'a', // 普通に分割される
    'b', // 普通に分割される
    'c\\,d', // \\ でエスケープしているので区切り文字とみなされない
    '"e,f"', // "" でクオートされているので区切り文字とみなされない
]);

// $enclosures で囲い文字の開始・終了文字を明示できる
that(quoteexplode(',', 'a,b,{e,f}', ['{' =&gt; '}']))-&gt;isSame([
    'a', // 普通に分割される
    'b', // 普通に分割される
    '{e,f}', // { } で囲まれているので区切り文字とみなされない
]);

// このように第3引数に $limit 引数を差し込むことができる
that(quoteexplode(',', 'a,b,{e,f}', 2, ['{' =&gt; '}']))-&gt;isSame([
    'a',
    'b,{e,f}',
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>分割文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$limit = null</td>
				<td class="desc"><p>分割数。負数未対応</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$enclosures = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。 ["start" =&gt; "end"] で開始・終了が指定できる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>分割された配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L212-L254" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strrstr()" tabindex="-1" class="structure-title ">
                        strrstr                        	<small>($haystack, $needle, $after_needle = true) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列が最後に現れる位置以前を返す</p>
<p>strstr の逆のイメージで文字列を後ろから探索する動作となる。<br />
strstr の動作は「文字列を前から探索して指定文字列があったらそれ以後を返す」なので、<br />
その逆の動作の「文字列を後ろから探索して指定文字列があったらそれ以前を返す」という挙動を示す。</p>
<p>strstr の「needle が文字列でない場合は、 それを整数に変換し、その番号に対応する文字として扱います」は直感的じゃないので踏襲しない。<br />
（全体的にこの動作をやめよう、という RFC もあったはず）。</p>
<p>第3引数の意味合いもデフォルト値も逆になるので、単純に呼べばよくある「指定文字列より後ろを（指定文字列を含めないで）返す」という動作になる。</p>
<p>Example:</p>
<pre><code class="language-php">// パス中の最後のディレクトリを取得
that(strrstr("path/to/1:path/to/2:path/to/3", ":"))-&gt;isSame('path/to/3');
// $after_needle を false にすると逆の動作になる
that(strrstr("path/to/1:path/to/2:path/to/3", ":", false))-&gt;isSame('path/to/1:path/to/2:');
// （参考）strrchr と違い、文字列が使えるしその文字そのものは含まれない
that(strrstr("A\r\nB\r\nC", "\r\n"))-&gt;isSame('C');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>検索文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$after_needle = true</td>
				<td class="desc"><p>$needle より後ろを返すか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"></td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L256-L294" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strpos_array()" tabindex="-1" class="structure-title ">
                        strpos_array                        	<small>($haystack, $needles, $offset = 0) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>複数の文字列で strpos する</p>
<p>$needles のそれぞれの位置を配列で返す。<br />
ただし、見つからなかった文字は結果に含まれない。</p>
<p>Example:</p>
<pre><code class="language-php">// 見つかった位置を返す
that(strpos_array('hello world', ['hello', 'world']))-&gt;isSame([
    0 =&gt; 0,
    1 =&gt; 6,
]);
// 見つからない文字は含まれない
that(strpos_array('hello world', ['notfound', 'world']))-&gt;isSame([
    1 =&gt; 6,
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$needles</td>
				<td class="desc"><p>位置を取得したい文字列配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>$needles それぞれの位置配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L296-L362" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::strpos_quoted()" tabindex="-1" class="structure-title ">
                        strpos_quoted                        	<small>($haystack, $needle, $offset = 0, $enclosure = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : false<span class="type-separator"></span><wbr>int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>クオートを考慮して strpos する</p>
<p>Example:</p>
<pre><code class="language-php">// クオート中は除外される
that(strpos_quoted('hello "this" is world', 'is'))-&gt;isSame(13);
// 開始位置やクオート文字は指定できる（5文字目以降の \* に囲まれていない hoge の位置を返す）
that(strpos_quoted('1:hoge, 2:*hoge*, 3:hoge', 'hoge', 5, '*'))-&gt;isSame(20);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>iterable</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>位置を取得したい文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$enclosure = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。この文字中にいる $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字。この文字が前にある $from, $to 文字は走査外になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">false<span class="type-separator"></span><wbr>int</td>
			<td class="desc"><p>$needle の位置</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L364-L400" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_anyof()" tabindex="-1" class="structure-title ">
                        str_anyof                        	<small>($needle, $haystack, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列が候補の中にあるか調べる</p>
<p>候補配列の中に対象文字列があるならそのキーを返す。ないなら null を返す。</p>
<p>あくまで文字列としての比較に徹する（in_array/array_search の第3引数は厳密すぎて使いにくいことがある）。<br />
ので array_search の文字列特化版とも言える。<br />
動作的には <code>array_flip($haystack)[$needle] ?? null</code> と同じ（大文字小文字オプションはあるけど）。<br />
ただ array_flip は巨大配列に弱いし、大文字小文字などの融通が効かないので foreach での素朴な実装になっている。</p>
<p>Example:</p>
<pre><code class="language-php">that(str_anyof('b', ['a', 'b', 'c']))-&gt;isSame(1);       // 見つかったキーを返す
that(str_anyof('x', ['a', 'b', 'c']))-&gt;isSame(null);    // 見つからないなら null を返す
that(str_anyof('C', ['a', 'b', 'c'], true))-&gt;isSame(2); // 大文字文字を区別しない
that(str_anyof('1', [1, 2, 3]))-&gt;isSame(0);             // 文字列の比較に徹する
that(str_anyof(2, ['1', '2', '3']))-&gt;isSame(1);         // 同上
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>候補配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>候補の中にあるならそのキー。無いなら null</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L402-L439" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_equals()" tabindex="-1" class="structure-title ">
                        str_equals                        	<small>($str1, $str2, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列比較の関数版</p>
<p>文字列以外が与えられた場合は常に false を返す。ただし __toString を実装したオブジェクトは別。</p>
<p>Example:</p>
<pre><code class="language-php">that(str_equals('abc', 'abc'))-&gt;isTrue();
that(str_equals('abc', 'ABC', true))-&gt;isTrue();
that(str_equals('\0abc', '\0abc'))-&gt;isTrue();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$str1</td>
				<td class="desc"><p>文字列1</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$str2</td>
				<td class="desc"><p>文字列2</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>同じ文字列なら true</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L441-L481" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_contains()" tabindex="-1" class="structure-title ">
                        str_contains                        	<small>($haystack, $needle, $case_insensitivity = false, $and_flag = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列を含むか返す</p>
<p>Example:</p>
<pre><code class="language-php">that(str_contains('abc', 'b'))-&gt;isTrue();
that(str_contains('abc', 'B', true))-&gt;isTrue();
that(str_contains('abc', ['b', 'x'], false, false))-&gt;isTrue();
that(str_contains('abc', ['b', 'x'], false, true))-&gt;isFalse();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$haystack</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$needle</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$and_flag = false</td>
				<td class="desc"><p>すべて含む場合に true を返すか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>$needle を含むなら true</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L483-L510" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_chop()" tabindex="-1" class="structure-title ">
                        str_chop                        	<small>($string, $prefix = null, $suffix = null, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>先頭・末尾の指定文字列を削ぎ落とす</p>
<p>Example:</p>
<pre><code class="language-php">// 文字列からパス文字列と拡張子を削ぎ落とす
$PATH = '/path/to/something';
that(str_chop("$PATH/hoge.php", "$PATH/", '.php'))-&gt;isSame('hoge');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$prefix = null</td>
				<td class="desc"><p>削ぎ落とす先頭文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$suffix = null</td>
				<td class="desc"><p>削ぎ落とす末尾文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>削ぎ落とした文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L512-L530" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_lchop()" tabindex="-1" class="structure-title ">
                        str_lchop                        	<small>($string, $prefix, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>先頭の指定文字列を削ぎ落とす</p>
<p>Example:</p>
<pre><code class="language-php">// 文字列からパス文字列を削ぎ落とす
$PATH = '/path/to/something';
that(str_lchop("$PATH/hoge.php", "$PATH/"))-&gt;isSame('hoge.php');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$prefix</td>
				<td class="desc"><p>削ぎ落とす先頭文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>削ぎ落とした文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L532-L550" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_rchop()" tabindex="-1" class="structure-title ">
                        str_rchop                        	<small>($string, $suffix = null, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>末尾の指定文字列を削ぎ落とす</p>
<p>Example:</p>
<pre><code class="language-php">// 文字列から .php を削ぎ落とす
$PATH = '/path/to/something';
that(str_rchop("$PATH/hoge.php", ".php"))-&gt;isSame("$PATH/hoge");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$suffix = null</td>
				<td class="desc"><p>削ぎ落とす末尾文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>削ぎ落とした文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L552-L599" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_putcsv()" tabindex="-1" class="structure-title ">
                        str_putcsv                        	<small>($array, $delimiter = &quot;,&quot;, $enclosure = &quot;\&quot;&quot;, $escape = &quot;\\&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>fputcsv の文字列版（str_getcsv の put 版）</p>
<p>エラーは例外に変換される。</p>
<p>普通の配列を与えるとシンプルに "a,b,c" のような1行を返す。<br />
多次元配列（2次元のみを想定）や Traversable を与えるとループして "a,b,c\nd,e,f" のような複数行を返す。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな1行を返す
that(str_putcsv(['a', 'b', 'c']))-&gt;isSame("a,b,c");
that(str_putcsv(['a', 'b', 'c'], "\t"))-&gt;isSame("a\tb\tc");
that(str_putcsv(['a', ' b ', 'c'], " ", "'"))-&gt;isSame("a ' b ' c");

// 複数行を返す
that(str_putcsv([['a', 'b', 'c'], ['d', 'e', 'f']]))-&gt;isSame("a,b,c\nd,e,f");
that(str_putcsv((function() {
    yield ['a', 'b', 'c'];
    yield ['d', 'e', 'f'];
})()))-&gt;isSame("a,b,c\nd,e,f");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">iterable</td>
				<td class="rest">$array</td>
				<td class="desc"><p>値の配列 or 値の配列の配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;,&quot;</td>
				<td class="desc"><p>フィールド区切り文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$enclosure = &quot;\&quot;&quot;</td>
				<td class="desc"><p>フィールドを囲む文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>CSV 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L601-L675" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_subreplace()" tabindex="-1" class="structure-title ">
                        str_subreplace                        	<small>($subject, $search, $replaces, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列を置換する</p>
<p>$subject 内の $search を $replaces に置換する。<br />
str_replace とは「N 番目のみ置換できる」点で異なる。<br />
つまり、$search='hoge', $replace=[2 =&gt; 'fuga'] とすると「2 番目の 'hoge' が 'fuga' に置換される」という動作になる（0 ベース）。</p>
<p>$replace に 非配列を与えた場合は配列化される。<br />
つまり <code>$replaces = 'hoge'</code> は <code>$replaces = [0 =&gt; 'hoge']</code> と同じ（最初のマッチを置換する）。</p>
<p>$replace に空配列を与えると何もしない。<br />
負数キーは後ろから数える動作となる。<br />
また、置換後の文字列は置換対象にはならない。</p>
<p>N 番目の検索文字列が見つからない場合は例外を投げる。<br />
ただし、文字自体が見つからない場合は投げない。</p>
<p>Example:</p>
<pre><code class="language-php">// 1番目（0ベースなので2番目）の x を X に置換
that(str_subreplace('xxx', 'x', [1 =&gt; 'X']))-&gt;isSame('xXx');
// 0番目（最前列）の x を Xa に、-1番目（最後尾）の x を Xz に置換
that(str_subreplace('!xxx!', 'x', [0 =&gt; 'Xa', -1 =&gt; 'Xz']))-&gt;isSame('!XaxXz!');
// 置換結果は置換対象にならない
that(str_subreplace('xxx', 'x', [0 =&gt; 'xxx', 1 =&gt; 'X']))-&gt;isSame('xxxXx');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$search</td>
				<td class="desc"><p>検索文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$replaces</td>
				<td class="desc"><p>置換文字列配列（単一指定は配列化される）</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L677-L777" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_submap()" tabindex="-1" class="structure-title ">
                        str_submap                        	<small>($subject, $replaces, $case_insensitivity = false) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列を置換する</p>
<p>$subject を $replaces に従って置換する。<br />
具体的には「$replaces を 複数指定できる str_subreplace」に近い。</p>
<p>strtr とは「N 番目のみ置換できる」点で異なる。<br />
つまり、$replaces=['hoge' =&gt; [2 =&gt; 'fuga']] とすると「2 番目の 'hoge' が 'fuga' に置換される」という動作になる（0 ベース）。</p>
<p>$replaces の要素に非配列を与えた場合は配列化される。<br />
つまり <code>$replaces = ['hoge' =&gt; 'fuga']</code> は <code>$replaces = ['hoge' =&gt; ['fuga']]</code> と同じ（最初のマッチを置換する）。</p>
<p>$replace に空配列を与えると何もしない。<br />
負数キーは後ろから数える動作となる。<br />
また、置換後の文字列は置換対象にはならない。</p>
<p>N 番目の検索文字列が見つからない場合は例外を投げる。<br />
ただし、文字自体が見つからない場合は投げない。</p>
<p>Example:</p>
<pre><code class="language-php">// "hello, world" の l と o を置換
that(str_submap('hello, world', [
    // l は0番目と2番目のみを置換（1番目は何も行われない）
    'l' =&gt; [
        0 =&gt; 'L1',
        2 =&gt; 'L3',
    ],
    // o は後ろから数えて1番目を置換
    'o' =&gt; [
        -1 =&gt; 'O',
    ],
]))-&gt;isSame('heL1lo, wOrL3d');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$replaces</td>
				<td class="desc"><p>読み換え配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L779-L854" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_embed()" tabindex="-1" class="structure-title ">
                        str_embed                        	<small>($string, $replacemap, $enclosure = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>エスケープ付きで文字列を置換する</p>
<p>$replacemap で from -&gt; to 文字列を指定する。<br />
to は文字列と配列を受け付ける。<br />
文字列の場合は普通に想起される動作で単純な置換となる。<br />
配列の場合は順次置換していく。要素が足りなくなったら例外を投げる。</p>
<p>strtr と同様、最も長いキーから置換を行い、置換後の文字列は対象にならない。</p>
<p>$enclosure で「特定文字に囲まれている」場合を無視することができる。<br />
$escape で「特定文字が前にある」場合を無視することができる。</p>
<p>Example:</p>
<pre><code class="language-php">// 最も単純な置換
that(str_embed('a, b, c', ['a' =&gt; 'A', 'b' =&gt; 'B', 'c' =&gt; 'C']))-&gt;isSame('A, B, C');
// 最も長いキーから置換される
that(str_embed('abc', ['a' =&gt; 'X', 'ab' =&gt; 'AB']))-&gt;isSame('ABc');
// 配列を渡すと「N番目の置換」が実現できる（文字列の場合は再利用される）
that(str_embed('a, a, b, b', [
    'a' =&gt; 'A',          // 全ての a が A になる
    'b' =&gt; ['B1', 'B2'], // 1番目の b が B1, 2番目の b が B2 になる
]))-&gt;isSame('A, A, B1, B2');
// 最も重要な性質として "' で囲まれていると対象にならない
that(str_embed('a, "a", b, "b", b', [
    'a' =&gt; 'A',
    'b' =&gt; ['B1', 'B2'],
]))-&gt;isSame('A, "a", B1, "b", B2');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$replacemap</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$enclosure = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。この文字中にいる $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字。この文字が前にある $from, $to 文字は走査外になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L856-L919" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_between()" tabindex="-1" class="structure-title ">
                        str_between                        	<small>($string, $from, $to, &amp;$position = 0, $enclosure = &quot;&#039;\&quot;&quot;, $escape = &quot;\\&quot;) : string<span class="type-separator"></span><wbr>bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字で囲まれた文字列を取得する</p>
<p>$from, $to で指定した文字間を取得する（$from, $to 自体は結果に含まれない）。<br />
ネストしている場合、一番外側の文字間を返す。</p>
<p>$enclosure で「特定文字に囲まれている」場合を無視することができる。<br />
$escape で「特定文字が前にある」場合を無視することができる。</p>
<p>$position を与えた場合、その場所から走査を開始する。<br />
さらに結果があった場合、 $position には「次の走査開始位置」が代入される。<br />
これを使用すると連続で「次の文字, 次の文字, ...」と言った動作が可能になる。</p>
<p>Example:</p>
<pre><code class="language-php">// $position を利用して "first", "second", "third" を得る（"で囲まれた "blank" は返ってこない）。
that(str_between('{first} and {second} and "{blank}" and {third}', '{', '}', $n))-&gt;isSame('first');
that(str_between('{first} and {second} and "{blank}" and {third}', '{', '}', $n))-&gt;isSame('second');
that(str_between('{first} and {second} and "{blank}" and {third}', '{', '}', $n))-&gt;isSame('third');
// ネストしている場合は最も外側を返す
that(str_between('{nest1{nest2{nest3}}}', '{', '}'))-&gt;isSame('nest1{nest2{nest3}}');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$from</td>
				<td class="desc"><p>開始文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$to</td>
				<td class="desc"><p>終了文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">&amp;$position = 0</td>
				<td class="desc"><p>開始位置。渡した場合次の開始位置が設定される</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$enclosure = &quot;&#039;\&quot;&quot;</td>
				<td class="desc"><p>囲い文字。この文字中にいる $from, $to 文字は走査外になる</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$escape = &quot;\\&quot;</td>
				<td class="desc"><p>エスケープ文字。この文字が前にある $from, $to 文字は走査外になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>bool</td>
			<td class="desc"><p>$from, $to で囲まれた文字。見つからなかった場合は false</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L921-L966" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_ellipsis()" tabindex="-1" class="structure-title ">
                        str_ellipsis                        	<small>($string, $width, $trimmarker = &quot;...&quot;, $pos = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を指定幅に丸める</p>
<p>mb_strimwidth と機能的には同じだが、省略文字の差し込み位置を $pos で指定できる。<br />
$pos は負数が指定できる。負数の場合後ろから数えられる。<br />
省略した場合は真ん中となる。</p>
<p>Example:</p>
<pre><code class="language-php">// 8文字に丸める（$pos 省略なので真ん中が省略される）
that(str_ellipsis('1234567890', 8, '...'))-&gt;isSame('12...890');
// 8文字に丸める（$pos=1 なので1文字目から省略される）
that(str_ellipsis('1234567890', 8, '...', 1))-&gt;isSame('1...7890');
// 8文字に丸める（$pos=-1 なので後ろから1文字目から省略される）
that(str_ellipsis('1234567890', 8, '...', -1))-&gt;isSame('1234...0');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$width</td>
				<td class="desc"><p>丸める幅</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$trimmarker = &quot;...&quot;</td>
				<td class="desc"><p>省略文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int<span class="type-separator"></span><wbr>null</td>
				<td class="rest">$pos = null</td>
				<td class="desc"><p>省略記号の差し込み位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>丸められた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L968-L1449" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_diff()" tabindex="-1" class="structure-title ">
                        str_diff                        	<small>($xstring, $ystring, $options = []) : string<span class="type-separator"></span><wbr>array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>テキストの diff を得る</p>
<p><code>$options['iignore-case'] = true</code> で大文字小文字を無視する。<br />
<code>$options['ignore-space-change'] = true</code> 空白文字の数を無視する。<br />
<code>$options['ignore-all-space'] = true</code> ですべての空白文字を無視する<br />
<code>$options['stringify']</code> で差分データを文字列化するクロージャを指定する。</p>
<ul>
<li>normal: 標準形式（diff のオプションなしに相当する）</li>
<li>context: コンテキスト形式（context=3 のような形式で diff の -C 3 に相当する）</li>
<li>unified: ユニファイド形式（unified=3 のような形式で diff の -U 3 に相当する）<ul>
<li>unified のみを指定するとヘッダを含まない +- のみの差分を出す</li>
</ul>
</li>
<li>html: ins, del の html タグ形式<ul>
<li>html=perline とすると行レベルでの差分も出す</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// 前文字列
$old = 'same
delete
same
same
change
';
// 後文字列
$new = 'same
same
append
same
this is changed line
';
// シンプルな差分テキストを返す
that(str_diff($old, $new))-&gt;isSame(' same
-delete
 same
+append
 same
-change
+this is changed line
');
// html で差分を返す
that(str_diff($old, $new, ['stringify' =&gt; 'html']))-&gt;isSame('same
&lt;del&gt;delete&lt;/del&gt;
same
&lt;ins&gt;append&lt;/ins&gt;
same
&lt;del&gt;change&lt;/del&gt;
&lt;ins&gt;this is changed line&lt;/ins&gt;
');
// 行レベルの html で差分を返す
that(str_diff($old, $new, ['stringify' =&gt; 'html=perline']))-&gt;isSame('same
&lt;del&gt;delete&lt;/del&gt;
same
&lt;ins&gt;append&lt;/ins&gt;
same
&lt;ins&gt;this is &lt;/ins&gt;chang&lt;ins&gt;ed lin&lt;/ins&gt;e
');
// raw な配列で差分を返す
that(str_diff($old, $new, ['stringify' =&gt; null]))-&gt;isSame([
    // 等価行（'=' という記号と前後それぞれの文字列を返す（キーは行番号））
    ['=', [0 =&gt; 'same'], [0 =&gt; 'same']],
    // 削除行（'-' という記号と前の文字列を返す（キーは行番号）、後は int で行番号のみ）
    ['-', [1 =&gt; 'delete'], 0],
    // 等価行
    ['=', [2 =&gt; 'same'], [1 =&gt; 'same']],
    // 追加行（'+' という記号と後の文字列を返す（キーは行番号）、前は int で行番号のみ）
    ['+', 2, [2 =&gt; 'append']],
    // 等価行
    ['=', [3 =&gt; 'same'], [3 =&gt; 'same']],
    // 変更行（'*' という記号と前後それぞれの文字列を返す（キーは行番号））
    ['*', [4 =&gt; 'change'], [4 =&gt; 'this is changed line']],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$xstring</td>
				<td class="desc"><p>元文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$ystring</td>
				<td class="desc"><p>比較文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>array</td>
			<td class="desc"><p>差分テキスト。 stringify が null の場合は raw な差分配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1451-L1483" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::starts_with()" tabindex="-1" class="structure-title ">
                        starts_with                        	<small>($string, $with, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列で始まるか調べる</p>
<p>$with に配列を渡すといずれかで始まるときに true を返す。</p>
<p>Example:</p>
<pre><code class="language-php">that(starts_with('abcdef', 'abc'))-&gt;isTrue();
that(starts_with('abcdef', 'ABC', true))-&gt;isTrue();
that(starts_with('abcdef', 'xyz'))-&gt;isFalse();
that(starts_with('abcdef', ['a', 'b', 'c']))-&gt;isTrue();
that(starts_with('abcdef', ['x', 'y', 'z']))-&gt;isFalse();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>探される文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$with</td>
				<td class="desc"><p>探す文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>指定文字列で始まるなら true を返す</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1485-L1517" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ends_with()" tabindex="-1" class="structure-title ">
                        ends_with                        	<small>($string, $with, $case_insensitivity = false) : bool</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>指定文字列で終わるか調べる</p>
<p>$with に配列を渡すといずれかで終わるときに true を返す。</p>
<p>Example:</p>
<pre><code class="language-php">that(ends_with('abcdef', 'def'))-&gt;isTrue();
that(ends_with('abcdef', 'DEF', true))-&gt;isTrue();
that(ends_with('abcdef', 'xyz'))-&gt;isFalse();
that(ends_with('abcdef', ['d', 'e', 'f']))-&gt;isTrue();
that(ends_with('abcdef', ['x', 'y', 'z']))-&gt;isFalse();
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>探される文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$with</td>
				<td class="desc"><p>探す文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$case_insensitivity = false</td>
				<td class="desc"><p>大文字小文字を無視するか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">bool</td>
			<td class="desc"><p>対象文字列で終わるなら true</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1519-L1534" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::camel_case()" tabindex="-1" class="structure-title ">
                        camel_case                        	<small>($string, $delimiter = &quot;_&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>camelCase に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(camel_case('this_is_a_pen'))-&gt;isSame('thisIsAPen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;_&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1536-L1551" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::pascal_case()" tabindex="-1" class="structure-title ">
                        pascal_case                        	<small>($string, $delimiter = &quot;_&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>PascalCase に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(pascal_case('this_is_a_pen'))-&gt;isSame('ThisIsAPen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;_&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1553-L1568" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::snake_case()" tabindex="-1" class="structure-title ">
                        snake_case                        	<small>($string, $delimiter = &quot;_&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>snake_case に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(snake_case('ThisIsAPen'))-&gt;isSame('this_is_a_pen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;_&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1570-L1585" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::chain_case()" tabindex="-1" class="structure-title ">
                        chain_case                        	<small>($string, $delimiter = &quot;-&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>chain-case に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(chain_case('ThisIsAPen'))-&gt;isSame('this-is-a-pen');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter = &quot;-&quot;</td>
				<td class="desc"><p>デリミタ</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>変換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1587-L1616" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::namespace_split()" tabindex="-1" class="structure-title ">
                        namespace_split                        	<small>($string) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を名前空間とローカル名に区切ってタプルで返す</p>
<p>class_namespace/class_shorten や function_shorten とほぼ同じだが下記の違いがある。</p>
<ul>
<li>あくまで文字列として処理する<ul>
<li>例えば class_namespace は get_class されるが、この関数は（いうなれば） strval される</li>
</ul>
</li>
<li>\ を trim しないし、特別扱いもしない<ul>
<li><code>ns\\hoge</code> と <code>\\ns\\hoge</code> で返り値が微妙に異なる</li>
<li><code>ns\\</code> のような場合は名前空間だけを返す</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">that(namespace_split('ns\\hoge'))-&gt;isSame(['ns', 'hoge']);
that(namespace_split('hoge'))-&gt;isSame(['', 'hoge']);
that(namespace_split('ns\\'))-&gt;isSame(['ns', '']);
that(namespace_split('\\hoge'))-&gt;isSame(['', 'hoge']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>[namespace, localname]</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1618-L1775" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::htmltag()" tabindex="-1" class="structure-title ">
                        htmltag                        	<small>($selector) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>css セレクタから html 文字列を生成する</p>
<p><code>tag#id.class[attr=value]</code> のような css セレクタから <code>&lt;tag id="id" class="class" attr="value"&gt;&lt;/tag&gt;</code> のような html 文字列を返す。<br />
配列を与えるとキーがセレクタ、値がコンテント文字列になる。<br />
さらに値が配列だと再帰して生成する。</p>
<p>値や属性は適切に htmlspecialchars される。</p>
<p>Example:</p>
<pre><code class="language-php">// 単純文字列はただのタグを生成する
that(
    htmltag('a#hoge.c1.c2[name=hoge\[\]][href="http://hoge"][hidden]'))
    -&gt;isSame('&lt;a id="hoge" class="c1 c2" name="hoge[]" href="http://hoge" hidden&gt;&lt;/a&gt;'
);
// ペア配列を与えるとコンテント文字列になる
that(
    htmltag(['a.c1#hoge.c2[name=hoge\[\]][href="http://hoge"][hidden]' =&gt; "this is text's content"]))
    -&gt;isSame('&lt;a id="hoge" class="c1 c2" name="hoge[]" href="http://hoge" hidden&gt;this is text&amp;#039;s content&lt;/a&gt;'
);
// ネストした配列を与えると再帰される
that(
    htmltag([
        'div#wrapper' =&gt; [
            'b.class1' =&gt; [
                '&lt;plain&gt;',
            ],
            'b.class2' =&gt; [
                '&lt;plain1&gt;',
                's' =&gt; '&lt;strike&gt;',
                '&lt;plain2&gt;',
            ],
        ],
    ]))
    -&gt;isSame('&lt;div id="wrapper"&gt;&lt;b class="class1"&gt;&amp;lt;plain&amp;gt;&lt;/b&gt;&lt;b class="class2"&gt;&amp;lt;plain1&amp;gt;&lt;s&gt;&amp;lt;strike&amp;gt;&lt;/s&gt;&amp;lt;plain2&amp;gt;&lt;/b&gt;&lt;/div&gt;'
);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$selector</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>html 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1777-L1835" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::build_uri()" tabindex="-1" class="structure-title ">
                        build_uri                        	<small>($parts) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>parse_uri の逆</p>
<p>URI のパーツを与えると URI として構築する。<br />
パーツは不完全でも良い。例えば scheme を省略すると "://" すら付かない URI が生成される。</p>
<p>"query" パートだけは配列が許容される。その場合クエリ文字列に変換される。</p>
<p>Example:</p>
<pre><code class="language-php">// 完全指定
that(build_uri([
    'scheme'   =&gt; 'http',
    'user'     =&gt; 'user',
    'pass'     =&gt; 'pass',
    'host'     =&gt; 'localhost',
    'port'     =&gt; '80',
    'path'     =&gt; '/path/to/file',
    'query'    =&gt; ['id' =&gt; 1],
    'fragment' =&gt; 'hash',
]))-&gt;isSame('http://user:pass@localhost:80/path/to/file?id=1#hash');
// 一部だけ指定
that(build_uri([
    'scheme'   =&gt; 'http',
    'host'     =&gt; 'localhost',
    'path'     =&gt; '/path/to/file',
    'fragment' =&gt; 'hash',
]))-&gt;isSame('http://localhost/path/to/file#hash');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$parts</td>
				<td class="desc"><p>URI の各パーツ配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>URI 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1837-L1926" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::parse_uri()" tabindex="-1" class="structure-title ">
                        parse_uri                        	<small>($uri, $default = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>parse_url の仕様を少しいじったもの</p>
<p>parse_url とは下記が異なる。</p>
<ul>
<li>"単一文字列" はホスト名とみなされる（parse_url はパスとみなされる）</li>
<li>パートがなくてもキー自体は生成される（そしてその値は $default で指定したもの）</li>
<li>query は配列で返す（parse_str される）</li>
<li>パート値をスカラー値で返すことはできない（必ず8要素の配列を返す）</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// 完全指定
that(parse_uri('http://user:pass@localhost:80/path/to/file?id=1#hash'))-&gt;is([
    'scheme'   =&gt; 'http',
    'user'     =&gt; 'user',
    'pass'     =&gt; 'pass',
    'host'     =&gt; 'localhost',
    'port'     =&gt; '80',
    'path'     =&gt; '/path/to/file',
    'query'    =&gt; ['id' =&gt; 1],
    'fragment' =&gt; 'hash',
]);
// デフォルト値つき
that(parse_uri('localhost/path/to/file', [
    'scheme'   =&gt; 'http', // scheme のデフォルト値
    'user'     =&gt; 'user', // user のデフォルト値
    'port'     =&gt; '8080', // port のデフォルト値
    'host'     =&gt; 'hoge', // host のデフォルト値
]))-&gt;is([
    'scheme'   =&gt; 'http',      // scheme はないのでデフォルト値が使われている
    'user'     =&gt; 'user',      // user はないのでデフォルト値が使われている
    'pass'     =&gt; '',
    'host'     =&gt; 'localhost', // host はあるのでデフォルト値が使われていない
    'port'     =&gt; '8080',      // port はないのでデフォルト値が使われている
    'path'     =&gt; '/path/to/file',
    'query'    =&gt; [],
    'fragment' =&gt; '',
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$uri</td>
				<td class="desc"><p>パースする URI</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$default = []</td>
				<td class="desc"><p>$uri に足りないパーツがあった場合のデフォルト値。文字列を与えた場合はそのパース結果がデフォルト値になる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>URI の各パーツ配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1928-L1971" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ini_export()" tabindex="-1" class="structure-title ">
                        ini_export                        	<small>($iniarray, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列を INI 的文字列に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(ini_export(['a' =&gt; 1, 'b' =&gt; 'B', 'c' =&gt; PHP_SAPI]))-&gt;is('a = 1
b = "B"
c = "cli"
');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$iniarray</td>
				<td class="desc"><p>ini 化する配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>ini 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1973-L1997" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ini_import()" tabindex="-1" class="structure-title ">
                        ini_import                        	<small>($inistring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>INI 的文字列を連想配列に変換する</p>
<p>Example:</p>
<pre><code class="language-php">that(ini_import("
a = 1
b = 'B'
c = PHP_VERSION
"))-&gt;is(['a' =&gt; 1, 'b' =&gt; 'B', 'c' =&gt; PHP_VERSION]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$inistring</td>
				<td class="desc"><p>ini 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L1999-L2105" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::csv_export()" tabindex="-1" class="structure-title ">
                        csv_export                        	<small>($csvarrays, $options = []) : string<span class="type-separator"></span><wbr>int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列の配列を CSV 的文字列に変換する</p>
<p>CSV ヘッダ行は全連想配列のキーの共通項となる。<br />
順番には依存しないが、余計な要素があってもそのキーはヘッダには追加されないし、データ行にも含まれない。<br />
ただし、オプションで headers が与えられた場合はそれを使用する。<br />
この headers オプションはヘッダ文字列変換も兼ねる（[key =&gt; header] で「key を header で吐き出し」となる）。</p>
<p>callback オプションが渡された場合は「あらゆる処理の最初」にコールされる。<br />
つまりヘッダの読み換えや文字エンコーディングの変換が行われる前の状態でコールされる。<br />
また、 false を返すとその要素はスルーされる。</p>
<p>output オプションにリソースを渡すとそこに対して書き込みが行われる（fclose はされない）。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
$csvarrays = [
    ['a' =&gt; 'A1', 'b' =&gt; 'B1', 'c' =&gt; 'C1'],             // 普通の行
    ['c' =&gt; 'C2', 'a' =&gt; 'A2', 'b' =&gt; 'B2'],             // 順番が入れ替わっている行
    ['c' =&gt; 'C3', 'a' =&gt; 'A3', 'b' =&gt; 'B3', 'x' =&gt; 'X'], // 余計な要素が入っている行
];
that(csv_export($csvarrays))-&gt;is("a,b,c
A1,B1,C1
A2,B2,C2
A3,B3,C3
");

// ヘッダを指定できる
that(csv_export($csvarrays, [
    'headers' =&gt; ['a' =&gt; 'A', 'c' =&gt; 'C'], // a と c だけを出力＋ヘッダ文字変更
]))-&gt;is("A,C
A1,C1
A2,C2
A3,C3
");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$csvarrays</td>
				<td class="desc"><p>連想配列の配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列。fputcsv の第3引数以降もここで指定する</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string<span class="type-separator"></span><wbr>int</td>
			<td class="desc"><p>CSV 的文字列。output オプションを渡した場合は書き込みバイト数</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2107-L2229" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::csv_import()" tabindex="-1" class="structure-title ">
                        csv_import                        	<small>($csvstring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>CSV 的文字列を連想配列の配列に変換する</p>
<p>1行目をヘッダ文字列とみなしてそれをキーとした連想配列の配列を返す。<br />
ただし、オプションで headers が与えられた場合はそれを使用する。<br />
この headers オプションはヘッダフィルタも兼ねる（[n =&gt; header] で「n 番目フィールドを header で取り込み」となる）。<br />
入力にヘッダがありかつ headers に連想配列が渡された場合はフィルタ兼読み換えとなる（Example を参照）。</p>
<p>callback オプションが渡された場合は「あらゆる処理の最後」にコールされる。<br />
つまりヘッダの読み換えや文字エンコーディングの変換が行われた後の状態でコールされる。<br />
また、 false を返すとその要素はスルーされる。</p>
<p>メモリ効率は意識しない（どうせ配列を返すので意識しても無駄）。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
that(csv_import("
a,b,c
A1,B1,C1
A2,B2,C2
A3,B3,C3
"))-&gt;is([
    ['a' =&gt; 'A1', 'b' =&gt; 'B1', 'c' =&gt; 'C1'],
    ['a' =&gt; 'A2', 'b' =&gt; 'B2', 'c' =&gt; 'C2'],
    ['a' =&gt; 'A3', 'b' =&gt; 'B3', 'c' =&gt; 'C3'],
]);

// ヘッダを指定できる
that(csv_import("
A1,B1,C1
A2,B2,C2
A3,B3,C3
", [
    'headers' =&gt; [0 =&gt; 'a', 2 =&gt; 'c'], // 1がないので1番目のフィールドを読み飛ばしつつ、0, 2 は "a", "c" として取り込む
]))-&gt;is([
    ['a' =&gt; 'A1', 'c' =&gt; 'C1'],
    ['a' =&gt; 'A2', 'c' =&gt; 'C2'],
    ['a' =&gt; 'A3', 'c' =&gt; 'C3'],
]);

// ヘッダありで連想配列で指定するとキーの読み換えとなる（指定しなければ読み飛ばしも行える）
that(csv_import("
a,b,c
A1,B1,C1
A2,B2,C2
A3,B3,C3
", [
    'headers' =&gt; ['a' =&gt; 'hoge', 'c' =&gt; 'piyo'], // a は hoge, c は piyo で読み込む。 b は指定がないので飛ばされる
]))-&gt;is([
    ['hoge' =&gt; 'A1', 'piyo' =&gt; 'C1'],
    ['hoge' =&gt; 'A2', 'piyo' =&gt; 'C2'],
    ['hoge' =&gt; 'A3', 'piyo' =&gt; 'C3'],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>resource</td>
				<td class="rest">$csvstring</td>
				<td class="desc"><p>CSV 的文字列。ファイルポインタでも良いが終了後に必ず閉じられる</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列。fgetcsv の第3引数以降もここで指定する</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>連想配列の配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2231-L2270" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::json_export()" tabindex="-1" class="structure-title ">
                        json_export                        	<small>($value, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>json_encode のプロキシ関数</p>
<p>引数体系とデフォルト値を変更してある。また、エラー時に例外が飛ぶ。</p>
<p>Example:</p>
<pre><code class="language-php">// オプションはこのように [定数 =&gt; bool] で渡す。false は指定されていないとみなされる（JSON_MAX_DEPTH 以外）
that(json_export(['a' =&gt; 'A', 'b' =&gt; 'B'], [
   JSON_PRETTY_PRINT =&gt; false,
]))-&gt;is('{"a":"A","b":"B"}');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">mixed</td>
				<td class="rest">$value</td>
				<td class="desc"><p>encode する値</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>JSON_*** をキーにした連想配列。 値が false は指定されていないとみなされる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>JSON 文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2272-L2310" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::json_import()" tabindex="-1" class="structure-title ">
                        json_import                        	<small>($value, $options = []) : mixed</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>json_decode のプロキシ関数</p>
<p>引数体系とデフォルト値を変更してある。また、エラー時に例外が飛ぶ。</p>
<p>Example:</p>
<pre><code class="language-php">// オプションはこのように [定数 =&gt; bool] で渡す。false は指定されていないとみなされる（JSON_MAX_DEPTH 以外）
that(json_import('{"a":"A","b":"B"}', [
   JSON_OBJECT_AS_ARRAY =&gt; true,
]))-&gt;is(['a' =&gt; 'A', 'b' =&gt; 'B']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$value</td>
				<td class="desc"><p>JSON 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>JSON_*** をキーにした連想配列。 値が false は指定されていないとみなされる</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">mixed</td>
			<td class="desc"><p>decode された値</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2312-L2374" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::paml_export()" tabindex="-1" class="structure-title ">
                        paml_export                        	<small>($pamlarray, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列を paml 的文字列に変換する</p>
<p>paml で出力することはまずないのでおまけ（import との対称性のために定義している）。</p>
<p>Example:</p>
<pre><code class="language-php">that(paml_export([
    'n' =&gt; null,
    'f' =&gt; false,
    'i' =&gt; 123,
    'd' =&gt; 3.14,
    's' =&gt; 'this is string',
]))-&gt;isSame('n: null, f: false, i: 123, d: 3.14, s: "this is string"');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$pamlarray</td>
				<td class="desc"><p>配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>PAML 的文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2376-L2497" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::paml_import()" tabindex="-1" class="structure-title ">
                        paml_import                        	<small>($pamlstring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>paml 的文字列をパースする</p>
<p>paml とは yaml を簡易化したような独自フォーマットを指す。<br />
ざっくりと下記のような特徴がある。</p>
<ul>
<li>ほとんど yaml と同じだがフロースタイルのみでキーコロンの後のスペースは不要</li>
<li>yaml のアンカーや複数ドキュメントのようなややこしい仕様はすべて未対応</li>
<li>配列を前提にしているので、トップレベルの <code>[]</code> <code>{}</code> は不要</li>
<li>配列・連想配列の区別はなし。 <code>[]</code> でいわゆる php の配列、 <code>{}</code> で stdClass を表す</li>
<li>bare string で php の定数を表す</li>
</ul>
<p>簡易的な設定の注入に使える（yaml は標準で対応していないし、json や php 配列はクオートの必要やケツカンマ問題がある）。<br />
なお、かなり緩くパースしてるので基本的にエラーにはならない。</p>
<p>早見表：</p>
<ul>
<li>php:  <code>["n" =&gt; null, "f" =&gt; false, "i" =&gt; 123, "d" =&gt; 3.14, "s" =&gt; "this is string", "a" =&gt; [1, 2, "x" =&gt; "X"]]</code><ul>
<li>ダブルアローとキーのクオートが冗長</li>
</ul>
</li>
<li>json: <code>{"n":null, "f":false, "i":123, "d":3.14, "s":"this is string", "a":{"0": 1, "1": 2, "x": "X"}}</code><ul>
<li>キーのクオートが冗長だしケツカンマ非許容</li>
</ul>
</li>
<li>yaml: <code>{n: null, f: false, i: 123, d: 3.14, s: "this is string", a: {0: 1, 1: 2, x: X}}</code><ul>
<li>理想に近いが、コロンの後にスペースが必要だし連想配列が少々難。なにより拡張や外部ライブラリが必要</li>
</ul>
</li>
<li>paml: <code>n:null, f:false, i:123, d:3.14, s:"this is string", a:[1, 2, x:X]</code><ul>
<li>シンプルイズベスト</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">// こういったスカラー型はほとんど yaml と一緒だが、コロンの後のスペースは不要（あってもよい）
that(paml_import('n:null, f:false, i:123, d:3.14, s:"this is string"'))-&gt;isSame([
    'n' =&gt; null,
    'f' =&gt; false,
    'i' =&gt; 123,
    'd' =&gt; 3.14,
    's' =&gt; 'this is string',
]);
// 配列が使える（キーは連番なら不要）。ネストも可能
that(paml_import('a:[1,2,x:X,3], nest:[a:[b:[c:[X]]]]'))-&gt;isSame([
    'a'    =&gt; [1, 2, 'x' =&gt; 'X', 3],
    'nest' =&gt; [
        'a' =&gt; [
            'b' =&gt; [
                'c' =&gt; ['X']
            ],
        ],
    ],
]);
// bare 文字列で定数が使える
that(paml_import('pv:PHP_VERSION, ao:ArrayObject::STD_PROP_LIST'))-&gt;isSame([
    'pv' =&gt; \PHP_VERSION,
    'ao' =&gt; \ArrayObject::STD_PROP_LIST,
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pamlstring</td>
				<td class="desc"><p>PAML 文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>php 配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2499-L2572" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ltsv_export()" tabindex="-1" class="structure-title ">
                        ltsv_export                        	<small>($ltsvarray, $options = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>配列を LTSV 的文字列に変換する</p>
<p>ラベル文字列に ":" を含む場合は例外を投げる（ラベルにコロンが来るとどうしようもない）。</p>
<p>escape オプションで「LTSV 的にまずい文字」がその文字でエスケープされる（具体的には "\n" と "\t"）。<br />
デフォルトでは "\" でエスケープされるので、整合性が崩れることはない。</p>
<p>encode オプションで「文字列化できない値」が来たときのその関数を通して出力される（その場合、目印として値の両サイドに ` が付く）。<br />
デフォルトでは json_encode される。</p>
<p>エンコード機能はおまけに過ぎない（大抵の場合はそんな機能は必要ない）。<br />
ので、この実装は互換性を維持せず変更される可能性がある。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
that(ltsv_export([
    "label1" =&gt; "value1",
    "label2" =&gt; "value2",
]))-&gt;is("label1:value1	label2:value2");

// タブや改行文字のエスケープ
that(ltsv_export([
    "label1" =&gt; "val\tue1",
    "label2" =&gt; "val\nue2",
]))-&gt;is("label1:val\\tue1	label2:val\\nue2");

// 配列のエンコード
that(ltsv_export([
    "label1" =&gt; "value1",
    "label2" =&gt; [1, 2, 3],
]))-&gt;is("label1:value1	label2:`[1,2,3]`");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$ltsvarray</td>
				<td class="desc"><p>配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>LTSV 的文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2574-L2647" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ltsv_import()" tabindex="-1" class="structure-title ">
                        ltsv_import                        	<small>($ltsvstring, $options = []) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>LTSV 的文字列を配列に変換する</p>
<p>escape オプションで「LTSV 的にまずい文字」がその文字でエスケープされる（具体的には "\n" と "\t"）。<br />
デフォルトでは "\" でエスケープされるので、整合性が崩れることはない。</p>
<p>decode オプションで「`` で囲まれた値」が来たときのその関数を通して出力される。<br />
デフォルトでは json_decode される。</p>
<p>エンコード機能はおまけに過ぎない（大抵の場合はそんな機能は必要ない）。<br />
ので、この実装は互換性を維持せず変更される可能性がある。</p>
<p>Example:</p>
<pre><code class="language-php">// シンプルな実行例
that(ltsv_import("label1:value1	label2:value2"))-&gt;is([
    "label1" =&gt; "value1",
    "label2" =&gt; "value2",
]);

// タブや改行文字のエスケープ
that(ltsv_import("label1:val\\tue1	label2:val\\nue2"))-&gt;is([
    "label1" =&gt; "val\tue1",
    "label2" =&gt; "val\nue2",
]);

// 配列のデコード
that(ltsv_import("label1:value1	label2:`[1,2,3]`"))-&gt;is([
    "label1" =&gt; "value1",
    "label2" =&gt; [1, 2, 3],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$ltsvstring</td>
				<td class="desc"><p>LTSV 的文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$options = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2649-L2715" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::markdown_table()" tabindex="-1" class="structure-title ">
                        markdown_table                        	<small>($array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列の配列を markdown テーブル文字列にする</p>
<p>見出しはキーの和集合で生成され、改行は <code>&lt;br&gt;</code> に置換される。<br />
要素が全て数値の場合は右寄せになる。</p>
<p>Example:</p>
<pre><code class="language-php">// 最初の "\n" に意味はない（ズレると見づらいので冒頭に足しているだけ）
that("\n" . markdown_table([
   ['a' =&gt; 'a1', 'b' =&gt; 'b1'],
   ['b' =&gt; 'b2', 'c' =&gt; '2'],
   ['a' =&gt; 'a3', 'c' =&gt; '3'],
]))-&gt;is("
| a   | b   |   c |
| --- | --- | --: |
| a1  | b1  |     |
|     | b2  |   2 |
| a3  |     |   3 |
");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>連想配列の配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>markdown テーブル文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2717-L2787" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::markdown_list()" tabindex="-1" class="structure-title ">
                        markdown_list                        	<small>($array, $option = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>配列を markdown リスト文字列にする</p>
<p>Example:</p>
<pre><code class="language-php">// 最初の "\n" に意味はない（ズレると見づらいので冒頭に足しているだけ）
that("\n" . markdown_list([
    'dict'        =&gt; [
        'Key1' =&gt; 'Value1',
        'Key2' =&gt; 'Value2',
    ],
    'list'        =&gt; ['Item1', 'Item2', 'Item3'],
    'dict &amp; list' =&gt; [
        'Key' =&gt; 'Value',
        ['Item1', 'Item2', 'Item3'],
    ],
], ['separator' =&gt; ':']))-&gt;is("
- dict:
    - Key1:Value1
    - Key2:Value2
- list:
    - Item1
    - Item2
    - Item3
- dict &amp; list:
    - Key:Value
        - Item1
        - Item2
        - Item3
");
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$option = []</td>
				<td class="desc"><p>オプション配列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>markdown リスト文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2789-L2815" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::random_string()" tabindex="-1" class="structure-title ">
                        random_string                        	<small>($length = 8, $charlist = &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>安全な乱数文字列を生成する</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$length = 8</td>
				<td class="desc"><p>生成文字列長</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$charlist = &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</td>
				<td class="desc"><p>使用する文字セット</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>乱数文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2817-L2851" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::kvsprintf()" tabindex="-1" class="structure-title ">
                        kvsprintf                        	<small>($format, $array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>連想配列を指定できるようにした vsprintf</p>
<p>sprintf の順序指定構文('%1$d')にキーを指定できる。</p>
<p>Example:</p>
<pre><code class="language-php">that(kvsprintf('%hoge$s %fuga$d', ['hoge' =&gt; 'ThisIs', 'fuga' =&gt; '3.14']))-&gt;isSame('ThisIs 3');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$format</td>
				<td class="desc"><p>フォーマット文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>フォーマット引数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>フォーマットされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2853-L2931" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_matches()" tabindex="-1" class="structure-title ">
                        preg_matches                        	<small>($pattern, $subject, $flags = 0, $offset = 0) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>複数マッチに対応した preg_match</p>
<p>要するに preg_match_all とほぼ同義だが、下記の差異がある。</p>
<ul>
<li>正規表現フラグに "g" フラグが使用できる。 "g" を指定すると preg_match_all 相当の動作になる</li>
<li>キャプチャは参照引数ではなく返り値で返す</li>
<li>「パターン全体マッチ」を表す 0 キーは返さない</li>
<li>上記2つの動作により「マッチしなかったら空配列を返す」という動作になる</li>
<li>名前付きキャプチャーに対応する数値キーは伏せられる</li>
<li>伏せられても数値キーは 0 ベースで通し連番となる</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">$pattern = '#(\d{4})/(?&lt;month&gt;\d{1,2})(?:/(\d{1,2}))?#';
// 1(month)番目は名前付きキャプチャなので 1 キーとしては含まれず month というキーで返す（2 が詰められて 1 になる）
that(preg_matches($pattern, '2014/12/24'))-&gt;isSame([0 =&gt; '2014', 'month' =&gt; '12', 1 =&gt; '24']);
// 一切マッチしなければ空配列が返る
that(preg_matches($pattern, 'hoge'))-&gt;isSame([]);

// g オプションを与えると preg_match_all 相当の動作になる（flags も使える）
$pattern = '#(\d{4})/(?&lt;month&gt;\d{1,2})(?:/(\d{1,2}))?#g';
that(preg_matches($pattern, '2013/11/23, 2014/12/24', PREG_SET_ORDER))-&gt;isSame([
    [0 =&gt; '2013', 'month' =&gt; '11', 1 =&gt; '23'],
    [0 =&gt; '2014', 'month' =&gt; '12', 1 =&gt; '24'],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$flags = 0</td>
				<td class="desc"><p>PREG 定数</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$offset = 0</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>キャプチャした配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2933-L2970" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_capture()" tabindex="-1" class="structure-title ">
                        preg_capture                        	<small>($pattern, $subject, $default) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>キャプチャを主軸においた preg_match</p>
<p>$pattern で $subject をマッチングして $default で埋めて返す。$default はフィルタも兼ねる。<br />
空文字マッチは「マッチしていない」とみなすので注意（$default が使用される）。</p>
<p>キャプチャを主軸においているので「マッチしなかった」は検出不可能。<br />
$default がそのまま返ってくる。</p>
<p>Example:</p>
<pre><code class="language-php">$pattern = '#(\d{4})/(\d{1,2})(/(\d{1,2}))?#';
$default = [1 =&gt; '2000', 2 =&gt; '1', 4 =&gt; '1'];
// 完全にマッチするのでそれぞれ返ってくる
that(preg_capture($pattern, '2014/12/24', $default))-&gt;isSame([1 =&gt; '2014', 2 =&gt; '12', 4 =&gt; '24']);
// 最後の \d{1,2} はマッチしないのでデフォルト値が使われる
that(preg_capture($pattern, '2014/12', $default))-&gt;isSame([1 =&gt; '2014', 2 =&gt; '12', 4 =&gt; '1']);
// 一切マッチしないので全てデフォルト値が使われる
that(preg_capture($pattern, 'hoge', $default))-&gt;isSame([1 =&gt; '2000', 2 =&gt; '1', 4 =&gt; '1']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$default</td>
				<td class="desc"><p>デフォルト値</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>キャプチャした配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L2972-L3013" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_splice()" tabindex="-1" class="structure-title ">
                        preg_splice                        	<small>($pattern, $replacement, $subject, &amp;$matches = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>キャプチャも行える preg_replace</p>
<p>「置換を行いつつ、キャプチャ文字列が欲しい」状況はまれによくあるはず。</p>
<p>$replacement に callable を渡すと preg_replace_callback がコールされる。<br />
callable とはいっても単純文字列 callble （"strtoupper" など）は callable とはみなされない。<br />
配列形式の callable や クロージャのみ preg_replace_callback になる。</p>
<p>Example:</p>
<pre><code class="language-php">// 数字を除去しつつその除去された数字を得る
that(preg_splice('#\\d+#', '', 'abc123', $m))-&gt;isSame('abc');
that($m)-&gt;isSame(['123']);

// callable だと preg_replace_callback が呼ばれる
that(preg_splice('#[a-z]+#', function($m){return strtoupper($m[0]);}, 'abc123', $m))-&gt;isSame('ABC123');
that($m)-&gt;isSame(['abc']);

// ただし、 文字列 callable は文字列として扱う
that(preg_splice('#[a-z]+#', 'strtoupper', 'abc123', $m))-&gt;isSame('strtoupper123');
that($m)-&gt;isSame(['abc']);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>callable</td>
				<td class="rest">$replacement</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">&amp;$matches = []</td>
				<td class="desc"><p>キャプチャ配列が格納される</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3015-L3078" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::preg_replaces()" tabindex="-1" class="structure-title ">
                        preg_replaces                        	<small>($pattern, $replacements, $subject, $limit = -1, &amp;$count = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>パターン番号を指定して preg_replace する</p>
<p>パターン番号を指定してそれのみを置換する。<br />
名前付きキャプチャを使用している場合はキーに文字列も使える。<br />
値にクロージャを渡した場合はコールバックされて置換される。</p>
<p>$replacements に単一文字列を渡した場合、 <code>[1 =&gt; $replacements]</code> と等しくなる（第1キャプチャを置換）。</p>
<p>Example:</p>
<pre><code class="language-php">// a と z に囲まれた数字を XXX に置換する
that(preg_replaces('#a(\d+)z#', [1 =&gt; 'XXX'], 'a123z'))-&gt;isSame('aXXXz');
// 名前付きキャプチャも指定できる
that(preg_replaces('#a(?&lt;digit&gt;\d+)z#', ['digit' =&gt; 'XXX'], 'a123z'))-&gt;isSame('aXXXz');
// クロージャを渡すと元文字列を引数としてコールバックされる
that(preg_replaces('#a(?&lt;digit&gt;\d+)z#', ['digit' =&gt; function($src){return $src * 2;}], 'a123z'))-&gt;isSame('a246z');
// 複合的なサンプル（a タグの href と target 属性を書き換える）
that(preg_replaces('#&lt;a\s+href="(?&lt;href&gt;.*)"\s+target="(?&lt;target&gt;.*)"&gt;#', [
    'href'   =&gt; function($href){return strtoupper($href);},
    'target' =&gt; function($target){return strtoupper($target);},
], '&lt;a href="hoge" target="fuga"&gt;inner text&lt;/a&gt;'))-&gt;isSame('&lt;a href="HOGE" target="FUGA"&gt;inner text&lt;/a&gt;');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$pattern</td>
				<td class="desc"><p>正規表現</p>
</td>
			</tr>
        			<tr>
				<td class="type">array<span class="type-separator"></span><wbr>string</td>
				<td class="rest">$replacements</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$subject</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$limit = -1</td>
				<td class="desc"><p>置換回数</p>
</td>
			</tr>
        			<tr>
				<td class="type">null</td>
				<td class="rest">&amp;$count = null</td>
				<td class="desc"><p>置換回数格納変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換された文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3080-L3155" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::damerau_levenshtein()" tabindex="-1" class="structure-title ">
                        damerau_levenshtein                        	<small>($s1, $s2, $cost_ins = 1, $cost_rep = 1, $cost_del = 1, $cost_swp = 1) : int</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>Damerau–Levenshtein 距離を返す</p>
<p>簡単に言えば「転置（入れ替え）を考慮したレーベンシュタイン」である。<br />
例えば "destroy" と "destory" は 「1挿入1削除=2」であるが、Damerau 版だと「1転置=1」となる。</p>
<p>また、マルチバイト（UTF-8 のみ）にも対応している。</p>
<p>Example:</p>
<pre><code class="language-php">// destroy と destory は普通にレーベンシュタイン距離を取ると 2 になるが・・・
that(levenshtein("destroy", "destory"))-&gt;isSame(2);
// damerau_levenshtein だと1である
that(damerau_levenshtein("destroy", "destory"))-&gt;isSame(1);
// UTF-8 でも大丈夫
that(damerau_levenshtein("あいうえお", "あいえうお"))-&gt;isSame(1);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$s1</td>
				<td class="desc"><p>対象文字列1</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$s2</td>
				<td class="desc"><p>対象文字列2</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_ins = 1</td>
				<td class="desc"><p>挿入のコスト</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_rep = 1</td>
				<td class="desc"><p>置換のコスト</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_del = 1</td>
				<td class="desc"><p>削除のコスト</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$cost_swp = 1</td>
				<td class="desc"><p>転置のコスト</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">int</td>
			<td class="desc"><p>Damerau–Levenshtein 距離</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3157-L3187" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ngram()" tabindex="-1" class="structure-title ">
                        ngram                        	<small>($string, $N, $encoding = &quot;UTF-8&quot;) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>N-gram 化して配列で返す</p>
<p>素朴な実装であり特記事項はない。<br />
末端要素や除去フィルタくらいは実装するかもしれない。</p>
<p>Example:</p>
<pre><code class="language-php">that(ngram("あいうえお", 1))-&gt;isSame(["あ", "い", "う", "え", "お"]);
that(ngram("あいうえお", 2))-&gt;isSame(["あい", "いう", "うえ", "えお", "お"]);
that(ngram("あいうえお", 3))-&gt;isSame(["あいう", "いうえ", "うえお", "えお", "お"]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$N</td>
				<td class="desc"><p>N-gram の N</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$encoding = &quot;UTF-8&quot;</td>
				<td class="desc"><p>マルチバイトエンコーディング</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>N-gram 配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3189-L3265" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_guess()" tabindex="-1" class="structure-title ">
                        str_guess                        	<small>($string, $candidates, &amp;$percent = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>$string に最も近い文字列を返す</p>
<p>N-gram 化して類似度の高い結果を返す。</p>
<p>この関数の結果（内部実装）は互換性を考慮しない。</p>
<p>Example:</p>
<pre><code class="language-php">// 「あいうえお」と最も近い文字列は「あいゆえに」である
that(str_guess("あいうえお", [
    'かきくけこ', // マッチ度 0%（1文字もかすらない）
    'ぎぼあいこ', // マッチ度約 13.1%（"あい"はあるが位置が異なる）
    'あいしてる', // マッチ度約 13.8%（"あい"がマッチ）
    'かとうあい', // マッチ度約 16.7%（"あい"があり"う"の位置が等しい）
    'あいゆえに', // マッチ度約 17.4%（"あい", "え"がマッチ）
]))-&gt;isSame('あいゆえに');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>調べる文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$candidates</td>
				<td class="desc"><p>候補文字列配列</p>
</td>
			</tr>
        			<tr>
				<td class="type">float</td>
				<td class="rest">&amp;$percent = null</td>
				<td class="desc"><p>マッチ度（％）を受ける変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>候補の中で最も近い文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3267-L3346" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::str_array()" tabindex="-1" class="structure-title ">
                        str_array                        	<small>($string, $delimiter, $hashmode) : array</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>文字列を区切り文字で区切って配列に変換する</p>
<p>典型的には http ヘッダとか sar の結果とかを配列にする。</p>
<p>Example:</p>
<pre><code class="language-php">// http response header  を ":" 区切りで連想配列にする
that(str_array("
HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8
Connection: Keep-Alive
", ':', true))-&gt;isSame([
    'HTTP/1.1 200 OK',
    'Content-Type' =&gt; 'text/html; charset=utf-8',
    'Connection'   =&gt; 'Keep-Alive',
]);

// sar の結果を " " 区切りで連想配列の配列にする
that(str_array("
13:00:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
13:10:01        all      0.99      0.10      0.71      0.00      0.00     98.19
13:20:01        all      0.60      0.10      0.56      0.00      0.00     98.74
", ' ', false))-&gt;isSame([
    1 =&gt; [
        '13:00:01' =&gt; '13:10:01',
        'CPU'      =&gt; 'all',
        '%user'    =&gt; '0.99',
        '%nice'    =&gt; '0.10',
        '%system'  =&gt; '0.71',
        '%iowait'  =&gt; '0.00',
        '%steal'   =&gt; '0.00',
        '%idle'    =&gt; '98.19',
    ],
    2 =&gt; [
        '13:00:01' =&gt; '13:20:01',
        'CPU'      =&gt; 'all',
        '%user'    =&gt; '0.60',
        '%nice'    =&gt; '0.10',
        '%system'  =&gt; '0.56',
        '%iowait'  =&gt; '0.00',
        '%steal'   =&gt; '0.00',
        '%idle'    =&gt; '98.74',
    ],
]);
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string<span class="type-separator"></span><wbr>array</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列。配列を与えても動作する</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$delimiter</td>
				<td class="desc"><p>区切り文字</p>
</td>
			</tr>
        			<tr>
				<td class="type">bool</td>
				<td class="rest">$hashmode</td>
				<td class="desc"><p>連想配列モードか</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">array</td>
			<td class="desc"><p>配列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3348-L3378" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::mb_substr_replace()" tabindex="-1" class="structure-title ">
                        mb_substr_replace                        	<small>($string, $replacement, $start, $length = null) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>マルチバイト対応 substr_replace</p>
<p>本家は配列を与えたりできるが、ややこしいし使う気がしないので未対応。</p>
<p>Example:</p>
<pre><code class="language-php">// 2文字目から5文字を「あいうえお」に置換する
that(mb_substr_replace('０１２３４５６７８９', 'あいうえお', 2, 5))-&gt;isSame('０１あいうえお７８９');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$replacement</td>
				<td class="desc"><p>置換文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$start</td>
				<td class="desc"><p>開始位置</p>
</td>
			</tr>
        			<tr>
				<td class="type">int</td>
				<td class="rest">$length = null</td>
				<td class="desc"><p>置換長</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>置換した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3380-L3394" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::mb_trim()" tabindex="-1" class="structure-title ">
                        mb_trim                        	<small>($string) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>マルチバイト対応 trim</p>
<p>Example:</p>
<pre><code class="language-php">that(mb_trim(' 　 あああ　 　'))-&gt;isSame('あああ');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$string</td>
				<td class="desc"><p>対象文字列</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>trim した文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3396-L3466" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::render_string()" tabindex="-1" class="structure-title ">
                        render_string                        	<small>($template, $array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>"hoge {$hoge}" 形式のレンダリング</p>
<p>文字列を eval して "hoge {$hoge}" 形式の文字列に変数を埋め込む。<br />
基本処理は <code>eval("return '" . addslashes($template) . "';");</code> と考えて良いが、下記が異なる。</p>
<ul>
<li>数値キーが参照できる</li>
<li>クロージャは呼び出し結果が埋め込まれる。引数は (変数配列, 自身のキー文字列)</li>
<li>引数をそのまま返すだけの特殊な変数 $_ が宣言される</li>
<li>シングルクォートのエスケープは外される</li>
</ul>
<p>$<em> が宣言されるのは変数配列に '</em>' を含んでいないときのみ（上書きを防止するため）。<br />
この $_ は php の埋め込み変数の闇を利用するととんでもないことが出来たりする（サンプルやテストコードを参照）。</p>
<p>ダブルクオートはエスケープされるので文字列からの脱出はできない。<br />
また、 <code>{$_(syntax(""))}</code> のように {$_()} 構文で " も使えなくなるので \' を使用しなければならない。</p>
<p>Example:</p>
<pre><code class="language-php">// 数値キーが参照できる
that(render_string('${0}', ['number']))-&gt;isSame('number');
// クロージャは呼び出し結果が埋め込まれる
that(render_string('$c', ['c' =&gt; function($vars, $k){return $k . '-closure';}]))-&gt;isSame('c-closure');
// 引数をそのまま返すだけの特殊な変数 $_ が宣言される
that(render_string('{$_(123 + 456)}', []))-&gt;isSame('579');
// 要するに '$_()' の中に php の式が書けるようになる
that(render_string('{$_(implode(\',\', $strs))}', ['strs' =&gt; ['a', 'n', 'z']]))-&gt;isSame('a,n,z');
that(render_string('{$_(max($nums))}', ['nums' =&gt; [1, 9, 3]]))-&gt;isSame('9');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template</td>
				<td class="desc"><p>レンダリング文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>レンダリング変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3468-L3480" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::render_file()" tabindex="-1" class="structure-title ">
                        render_file                        	<small>($template_file, $array) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>"hoge {$hoge}" 形式のレンダリングのファイル版</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template_file</td>
				<td class="desc"><p>レンダリングするファイル名</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array</td>
				<td class="desc"><p>レンダリング変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            	<table class="table">
		<caption>See</caption>
		<tbody>
        			<tr>
				<td class="type">
                                            <a href="ryunosuke-Functions-Package-Strings$typespace.html#ryunosuke\Functions\Package\Strings::render_string()" class="fqsen "><small>ryunosuke\Functions\Package\</small><wbr>Strings::render_string()</a>                    				</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
    					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3482-L3513" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::ob_include()" tabindex="-1" class="structure-title ">
                        ob_include                        	<small>($include_file, $array = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>変数を extract して include する</p>
<p>Example:</p>
<pre><code class="language-php">// このようなテンプレートファイルを用意すると
file_put_contents(sys_get_temp_dir() . '/template.php', '
This is plain text.
This is &lt;?= $var ?&gt;.
This is &lt;?php echo strtoupper($var) ?&gt;.
');
// このようにレンダリングできる
that(ob_include(sys_get_temp_dir() . '/template.php', ['var' =&gt; 'hoge']))-&gt;isSame('
This is plain text.
This is hoge.
This is HOGE.
');
</code></pre>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$include_file</td>
				<td class="desc"><p>include するファイル名</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array = []</td>
				<td class="desc"><p>extract される連想変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            				<li class="structure-item">
					<div class="attribute">
						<span class="label label-danger"></span>
						<span class="label label-default">static</span>
						<span class="label label-magic"></span>
						<span class="label label-danger"></span>
						<span class="label label-default"></span>
						<span class="label label-default"></span>
						<span class="label label-deprecated"></span>
						<span class="label label-public">public</span>
                        			<a href="https://github.com/arima-ryunosuke/php-functions/blob/master/src/Package/Strings.php#L3515-L3532" class="source-link glyphicon glyphicon-new-window" target="_blank"></a>
                                    					</div>
					<h4 id="ryunosuke\Functions\Package\Strings::include_string()" tabindex="-1" class="structure-title ">
                        include_string                        	<small>($template, $array = []) : string</small>
						</h4>
					<div class="inner-item">
						<div class="description"><p>変数を extract して include する（文字列指定）</p>
</div>
                        	<table class="table">
		<caption>Parameters</caption>
		<tbody>
        			<tr>
				<td class="type">string</td>
				<td class="rest">$template</td>
				<td class="desc"><p>テンプレート文字列</p>
</td>
			</tr>
        			<tr>
				<td class="type">array</td>
				<td class="rest">$array = []</td>
				<td class="desc"><p>extract される連想変数</p>
</td>
			</tr>
        		</tbody>
	</table>
                            	<table class="table">
		<caption>Return</caption>
		<tbody>
		<tr>
			<td class="type">string</td>
			<td class="desc"><p>レンダリングされた文字列</p>
</td>
			<td class="rest"></td>
		</tr>
		</tbody>
	</table>
                                                                            	<table class="table">
		<caption>See</caption>
		<tbody>
        			<tr>
				<td class="type">
                                            <a href="ryunosuke-Functions-Package-Strings$typespace.html#ryunosuke\Functions\Package\Strings::ob_include()" class="fqsen "><small>ryunosuke\Functions\Package\</small><wbr>Strings::ob_include()</a>                    				</td>
				<td class="desc"></td>
			</tr>
        		</tbody>
	</table>
    					</div>
					<div class="attribute">
						<span class="label label-default"></span>
						<span class="label label-default"></span>
					</div>
					<div class="clearfix"></div>
				</li>
            		</ul>
    
	<div class="attribute">
		<span class="label label-default"></span>
		<span class="label label-default"></span>
	</div>
	<div class="clearfix"></div>
</div>
</body>
</html>
